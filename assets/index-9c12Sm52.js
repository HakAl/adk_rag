import{u as ne,j as t,Q as It,a as At}from"./query-vendor-C16cMobW.js";import{a as Pt,r as u,u as Se,N as me,L as te,b as Rt,d as Tt,B as Ot,e as Mt,f as Y,R as _t}from"./react-vendor-DCaXUaws.js";import{t as Dt,c as Ft,a as Ve,f as zt,C as Lt,b as $t,B as Ge,U as We,L as U,S as Kt,d as Z,T as Je,E as Ee,e as se,g as ae,h as Ne,i as Ye,X as Qe,M as Ut,K as qt,j as Ht,R as Bt,k as Xe,l as Vt,m as Gt,n as Wt,Z as Jt,o as Yt,G as Qt,p as Xt,q as Zt,r as Ze}from"./ui-vendor-DmohGbmU.js";import{h as es,M as et,_ as ts,a as ss,b as D}from"./markdown-vendor-CBsZw6f2.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();var ve={},Ie=Pt;ve.createRoot=Ie.createRoot,ve.hydrateRoot=Ie.hydrateRoot;const be="csrf_token",ue=e=>{e?sessionStorage.setItem(be,e):sessionStorage.removeItem(be)},Q=()=>sessionStorage.getItem(be),tt={createSession:async(e="web_user")=>{const s=await fetch("/sessions/coordinator",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e}),credentials:"include"});if(!s.ok)throw new Error("Failed to create session");const a=s.headers.get("X-CSRF-Token");return a&&ue(a),s.json()},sendMessage:async e=>{const s={"Content-Type":"application/json"},a=Q();a&&(s["X-CSRF-Token"]=a);const n=await fetch("/chat/coordinator",{method:"POST",headers:s,body:JSON.stringify({message:e}),credentials:"include"});if(!n.ok)throw n.status===401?new Error("Session expired. Please refresh the page."):n.status===403?new Error("Security token invalid. Please refresh the page."):new Error("Failed to send message");return n.json()},streamMessage:async(e,s)=>{var l;const a={"Content-Type":"application/json"},n=Q();n&&(a["X-CSRF-Token"]=n);const r=await fetch("/chat/coordinator/stream",{method:"POST",headers:a,body:JSON.stringify({message:e}),credentials:"include"});if(!r.ok)throw r.status===401?new Error("Session expired. Please refresh the page."):r.status===403?new Error("Security token invalid. Please refresh the page."):new Error("Failed to stream message");const o=(l=r.body)==null?void 0:l.getReader();if(!o)throw new Error("No response body");const i=new TextDecoder;let c="";try{for(;;){const{done:d,value:h}=await o.read();if(console.log("🔥 Raw chunk received, size:",h==null?void 0:h.length,"done:",d),d)break;c+=i.decode(h,{stream:!0}),console.log("📦 Buffer now:",c.length,"chars");const m=c.split(`

`);c=m.pop()||"";for(const x of m){const g=x.split(`
`);for(const p of g)if(p.startsWith("data: "))try{const f=p.slice(6),y=JSON.parse(f);s(y)}catch(f){console.error("Failed to parse SSE event:",p,f)}}}}finally{o.releaseLock()}},logout:async()=>{if(!(await fetch("/logout",{method:"POST",credentials:"include"})).ok)throw new Error("Failed to logout");ue(null)}},as=(e,s)=>{const a=ne(),[n,r]=u.useState(!1),[o,i]=u.useState(null),[c,l]=u.useState(null),[d,h]=u.useState(""),m=u.useRef("");return{sendMessage:u.useCallback(async g=>{if(e){r(!0),i(null),l(null),h(""),m.current="";try{await tt.streamMessage(g,p=>{switch(console.log("🎯 Event received:",p.type,p.data),p.type){case"routing":console.log("📍 Setting routing info"),l(p.data);break;case"content":m.current+=p.data,console.log("📝 Content chunk:",p.data,"Total length:",m.current.length),h(m.current);break;case"done":const f={id:`msg-${Date.now()}`,question:g,answer:m.current,timestamp:Date.now()};a.setQueryData(["messages",e],(y=[])=>[...y.filter(w=>!w.id.startsWith("optimistic-")),f]),r(!1),h(""),l(null),m.current="";break;case"error":throw new Error(p.data.message||"Streaming error")}})}catch(p){i(p instanceof Error?p:new Error("Unknown error")),r(!1),h(""),l(null),m.current="",a.setQueryData(["messages",e],(f=[])=>f.filter(y=>!y.id.startsWith("optimistic-")))}}},[e,s,a]),isStreaming:n,error:o,routingInfo:c,streamingContent:d}},st=async(e,s)=>{var l;const a={"Content-Type":"application/json"},n=Q();n&&(a["X-CSRF-Token"]=n),s.apiKey&&(a["X-API-Key"]=s.apiKey);const r=await fetch("/chat/direct/anthropic/stream",{method:"POST",headers:a,body:JSON.stringify({message:e}),credentials:"include"});if(!r.ok)throw r.status===401?new Error("Session expired. Please refresh the page."):r.status===403?new Error("Security token invalid. Please refresh the page."):r.status===429?new Error("Rate limit exceeded. Please slow down."):new Error(`Failed to stream message: ${r.statusText}`);const o=(l=r.body)==null?void 0:l.getReader();if(!o)throw new Error("No response body");const i=new TextDecoder;let c="";try{for(;;){const{done:d,value:h}=await o.read();if(d)break;c+=i.decode(h,{stream:!0});const m=c.split(`

`);c=m.pop()||"";for(const x of m){const g=x.split(`
`);for(const p of g)if(p.startsWith("data: "))try{const f=p.slice(6),y=JSON.parse(f);s.onEvent(y)}catch(f){console.error("Failed to parse SSE event:",p,f)}}}}finally{o.releaseLock()}},rs=async(e,s)=>{const a={"Content-Type":"application/json"},n=Q();n&&(a["X-CSRF-Token"]=n),s&&(a["X-API-Key"]=s);const r=await fetch("/chat/direct/anthropic/classify",{method:"POST",headers:a,body:JSON.stringify({message:e}),credentials:"include"});if(!r.ok)throw new Error("Failed to classify message");return r.json()},at=async(e,s)=>{var l;const a={"Content-Type":"application/json"},n=Q();n&&(a["X-CSRF-Token"]=n),s.apiKey&&(a["X-API-Key"]=s.apiKey);const r=await fetch("/chat/direct/google/stream",{method:"POST",headers:a,body:JSON.stringify({message:e}),credentials:"include"});if(!r.ok)throw r.status===401?new Error("Session expired. Please refresh the page."):r.status===403?new Error("Security token invalid. Please refresh the page."):r.status===429?new Error("Rate limit exceeded. Please slow down."):new Error(`Failed to stream message: ${r.statusText}`);const o=(l=r.body)==null?void 0:l.getReader();if(!o)throw new Error("No response body");const i=new TextDecoder;let c="";try{for(;;){const{done:d,value:h}=await o.read();if(d)break;c+=i.decode(h,{stream:!0});const m=c.split(`

`);c=m.pop()||"";for(const x of m){const g=x.split(`
`);for(const p of g)if(p.startsWith("data: "))try{const f=p.slice(6),y=JSON.parse(f);s.onEvent(y)}catch(f){console.error("Failed to parse SSE event:",p,f)}}}}finally{o.releaseLock()}},ns=async(e,s)=>{const a={"Content-Type":"application/json"},n=Q();n&&(a["X-CSRF-Token"]=n),s&&(a["X-API-Key"]=s);const r=await fetch("/chat/direct/google/classify",{method:"POST",headers:a,body:JSON.stringify({message:e}),credentials:"include"});if(!r.ok)throw new Error("Failed to classify message");return r.json()},Ae={code_validation:`You are a code validation specialist. Your task is to:
1. Check for syntax errors
2. Identify potential bugs or issues
3. Verify code follows best practices
4. Provide clear, actionable feedback

Be concise and focus on correctness.`,code_generation:`You are a code generation specialist. Your task is to:
1. Write clean, efficient, well-documented code
2. Follow best practices and design patterns
3. Include error handling where appropriate
4. Explain key design decisions

Generate production-ready code.`,code_analysis:`You are a code analysis specialist. Your task is to:
1. Explain what the code does clearly
2. Identify the purpose and logic flow
3. Point out strengths and potential improvements
4. Suggest optimizations if applicable

Provide insightful analysis.`,complex_reasoning:`You are a complex reasoning specialist. Your task is to:
1. Break down complex problems into steps
2. Apply logical reasoning and analysis
3. Consider edge cases and alternatives
4. Provide well-reasoned solutions

Think deeply and systematically.`,general_chat:`You are a helpful assistant. Your task is to:
1. Provide friendly, conversational responses
2. Be clear and concise
3. Anticipate follow-up questions
4. Maintain a positive, professional tone

Be helpful and engaging.`},os=e=>Ae[e]||Ae.general_chat,is=async(e,s)=>{const{provider:a,apiKey:n,onRoutingInfo:r,onContent:o,onError:i,onComplete:c}=s;try{const d=await(a==="anthropic"?rs:ns)(e,n);if(d.primary_agent==="rag_query"&&(console.warn("rag_query detected in direct mode, falling back to general_chat"),d.primary_agent="general_chat"),d.parallel_agents=d.parallel_agents.filter(m=>m!=="rag_query"),r&&r(d),d.primary_agent==="general_chat"){const m=a==="anthropic"?st:at;let x=!1;await m(e,{apiKey:n,onEvent:g=>{g.type==="content"&&o?o(g.data.content):g.type==="error"&&(x=!0,i&&i(g.data.message))}}),!x&&c&&c();return}if(!await Pe(e,d.primary_agent,a,n,o,i,"Primary"))return;for(const m of d.parallel_agents)if(!await Pe(e,m,a,n,o,i,ls(m)))return;c&&c()}catch(l){i&&i(l instanceof Error?l.message:String(l))}};async function Pe(e,s,a,n,r,o,i){const l=`${os(s)}

User Request: ${e}`;i!=="Primary"&&r&&r(`

--- ${i} Analysis ---

`,i);const d=a==="anthropic"?st:at;let h=!1;return await d(l,{apiKey:n,onEvent:m=>{m.type==="content"&&r?r(m.data.content,i):m.type==="error"&&(h=!0,o&&o(`${i}: ${m.data.message}`))}}),!h}function ls(e){return e.charAt(0).toUpperCase()+e.slice(1).replace(/_/g," ")}const rt=u.createContext(void 0),cs=({children:e})=>{const[s,a]=u.useState({anthropic:void 0,google:void 0}),[n,r]=u.useState(()=>{const p=sessionStorage.getItem("preferredProvider");return p==="anthropic"||p==="google"?p:"anthropic"}),o=p=>{a(f=>({...f,...Object.fromEntries(Object.entries(p).map(([y,v])=>[y,(v==null?void 0:v.trim())||void 0]))}))},i=p=>{r(p),sessionStorage.setItem("preferredProvider",p)},c=p=>{o({anthropic:p})},l=p=>{o({google:p})},d=()=>{a({anthropic:void 0,google:void 0})},h=()=>s.anthropic!==void 0&&s.anthropic.length>0,m=()=>s.google!==void 0&&s.google.length>0,x=()=>h()||m(),g={keys:s,provider:n,setApiKeys:o,setProvider:i,setAnthropicKey:c,setGoogleKey:l,clearKeys:d,clearApiKeys:d,hasAnthropicKey:h,hasGoogleKey:m,hasAnyKey:x,hasApiKeys:x};return t.jsx(rt.Provider,{value:g,children:e})},oe=()=>{const e=u.useContext(rt);if(e===void 0)throw new Error("useApiKeys must be used within an ApiKeyProvider");return e},nt=async()=>"lite",ge="https://vibe-app-api.onrender.com",ds=e=>{const s=e.startsWith("/")?e:`/${e}`;return`${ge.endsWith("/")?ge.slice(0,-1):ge}${s}`},ot={check:async()=>{const e=await fetch(ds("/health"));if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()}},pe=()=>{const[e,s]=u.useState("lite"),[a,n]=u.useState(null),[r,o]=u.useState(!0),[i,c]=u.useState(!1);return u.useEffect(()=>{(async()=>{o(!0);const d=await nt();if(s(d),d==="full")try{const h=await ot.check();n(h)}catch(h){console.error("Health check failed:",h)}else c(!0),setTimeout(()=>c(!1),3e3);o(!1)})()},[]),{mode:e,health:a,loading:r,backendWaking:i}},H={SESSIONS:"chat_sessions",ACTIVE_SESSION:"activeSessionId",getMessages:e=>`messages_${e}`},B={sessions:[],messages:new Map,activeSessionId:null},j={getSessions:e=>{if(e)return B.sessions;const s=localStorage.getItem(H.SESSIONS);return s?JSON.parse(s):[]},saveSessions:(e,s)=>{s?B.sessions=e:localStorage.setItem(H.SESSIONS,JSON.stringify(e))},getMessages:(e,s)=>{if(s)return B.messages.get(e)||[];const a=localStorage.getItem(H.getMessages(e));return a?JSON.parse(a):[]},saveMessages:(e,s,a)=>{a?B.messages.set(e,s):localStorage.setItem(H.getMessages(e),JSON.stringify(s))},getActiveSessionId:e=>e?B.activeSessionId:localStorage.getItem(H.ACTIVE_SESSION),setActiveSessionId:(e,s)=>{s?B.activeSessionId=e:localStorage.setItem(H.ACTIVE_SESSION,e)},deleteSession:(e,s)=>{s?B.messages.delete(e):localStorage.removeItem(H.getMessages(e))},addSession:(e,s)=>{const a=j.getSessions(s);a.unshift(e),j.saveSessions(a,s)},updateSession:(e,s,a)=>{const r=j.getSessions(a).map(o=>o.sessionId===e?{...o,...s}:o);j.saveSessions(r,a)}},it=()=>{const{mode:e}=pe(),s=e==="lite",[a,n]=u.useState([]),r=u.useRef(s);r.current=s,u.useEffect(()=>{n(j.getSessions(s))},[s]);const o=u.useCallback(()=>{n(j.getSessions(r.current))},[]),i=u.useCallback(async()=>{const h={sessionId:(await tt.createSession("web_user")).session_id,title:"New Chat",createdAt:Date.now(),lastMessageAt:Date.now(),messageCount:0};return j.addSession(h,r.current),o(),h},[o]),c=u.useCallback((d,h,m)=>{const g=j.getSessions(r.current).find(f=>f.sessionId===d),p={lastMessageAt:Date.now(),messageCount:h};g&&g.messageCount===0&&m&&(p.title=m.slice(0,50)),j.updateSession(d,p,r.current),o()},[o]),l=u.useCallback(d=>{j.deleteSession(d,r.current);const h=a.filter(m=>m.sessionId!==d);j.saveSessions(h,r.current),o()},[a,o]);return{sessions:a,createSession:i,updateSessionMetadata:c,deleteSession:l,refreshSessions:o}},Re=e=>{if(e.includes("credit balance is too low"))return"Credit balance too low. Please add credits to your Anthropic account.";if(e.includes("Anthropic API error")){const a=e.match(/'message':\s*'([^']+)'/);return a&&a[1]?a[1]:"Anthropic API error. Please check your API key and try again."}if(e.includes("Google API"))return e.includes("rate limit")?"Google API rate limit exceeded. Please try again in a moment.":"Google API error. Please check your API key and try again.";if(e.includes("rate limit"))return"Rate limit exceeded. Please slow down and try again.";if(e.includes("Session expired"))return"Session expired. Please refresh the page.";if(e.includes("Security token invalid")||e.includes("CSRF"))return"Security token invalid. Please refresh the page.";if(e.includes("API key"))return"API key error. Please check your API key configuration.";const s=e.split(".")[0];return s.length<=100?s+".":e.substring(0,100)+"..."},us=e=>{const s=ne(),{provider:a,keys:n}=oe(),[r,o]=u.useState(!1),[i,c]=u.useState(null),[l,d]=u.useState(null),[h,m]=u.useState(""),x=u.useRef("");return{sendMessage:u.useCallback(async p=>{if(!e){c(new Error("Session not available"));return}const f=a==="anthropic"?n.anthropic:n.google;if(!f){c(new Error("API key not configured"));return}o(!0),c(null),d(null),m(""),x.current="";try{await is(p,{provider:a,apiKey:f,onRoutingInfo:y=>{d(y)},onContent:y=>{x.current+=y,m(x.current)},onError:y=>{const v=Re(y);c(new Error(v)),o(!1)},onComplete:()=>{const y={id:`msg-${Date.now()}`,question:p,answer:x.current,timestamp:Date.now()};s.setQueryData(["messages",e],(v=[])=>{const N=[...v.filter(S=>!S.id.startsWith("optimistic-")),y];return j.saveMessages(e,N,!0),N}),o(!1),m(""),d(null),x.current=""}})}catch(y){const v=y instanceof Error?y.message:"Request failed",w=Re(v);c(new Error(w)),o(!1),m(""),d(null),x.current="",s.setQueryData(["messages",e],(N=[])=>N.filter(S=>!S.id.startsWith("optimistic-")))}},[e,a,n,s]),isStreaming:r,error:i,routingInfo:l,streamingContent:h}},hs=(e,s)=>{const{mode:a}=pe();return a==="lite"?us(e):as(e??"",s)},ms=()=>{const[e,s]=u.useState(""),[a,n]=u.useState(!0),[r,o]=u.useState(null),i=ne(),{sessions:c,createSession:l,updateSessionMetadata:d,deleteSession:h}=it(),m=u.useCallback(async()=>{n(!0),o(null);try{const y=j.getActiveSessionId(!1),v=j.getSessions(!1);if(y&&v.find(w=>w.sessionId===y)){s(y);const N=[...j.getMessages(y,!1)].sort((S,O)=>S.timestamp-O.timestamp);i.setQueryData(["messages",y],N)}else{const w=await l();s(w.sessionId),j.setActiveSessionId(w.sessionId,!1),i.setQueryData(["messages",w.sessionId],[])}n(!1)}catch(y){console.error("Failed to initialize session:",y),o(y instanceof Error?y:new Error("Failed to initialize session")),n(!1)}},[l,i]);u.useEffect(()=>{m()},[m]);const x=u.useCallback(async()=>{try{const y=await l();s(y.sessionId),j.setActiveSessionId(y.sessionId,!1),i.setQueryData(["messages",y.sessionId],[])}catch(y){throw console.error("Failed to create new session:",y),y}},[l,i]),g=u.useCallback(y=>{s(y),j.setActiveSessionId(y,!1);const w=[...j.getMessages(y,!1)].sort((N,S)=>N.timestamp-S.timestamp);i.setQueryData(["messages",y],w)},[i]),p=u.useCallback(y=>{const v=j.getSessions(!1);if(h(y),i.removeQueries({queryKey:["messages",y]}),y===e){const w=v.filter(N=>N.sessionId!==y);w.length>0?g(w[0].sessionId):x()}},[e,h,i,g,x]),f=u.useCallback(async()=>{await m()},[m]);return{currentSessionId:e,isInitializing:a,initError:r,sessions:c,createNewSession:x,switchSession:g,removeSession:p,retryInitialization:f,updateSessionMetadata:d}},P=[];for(let e=0;e<256;++e)P.push((e+256).toString(16).slice(1));function ps(e,s=0){return(P[e[s+0]]+P[e[s+1]]+P[e[s+2]]+P[e[s+3]]+"-"+P[e[s+4]]+P[e[s+5]]+"-"+P[e[s+6]]+P[e[s+7]]+"-"+P[e[s+8]]+P[e[s+9]]+"-"+P[e[s+10]]+P[e[s+11]]+P[e[s+12]]+P[e[s+13]]+P[e[s+14]]+P[e[s+15]]).toLowerCase()}let xe;const fs=new Uint8Array(16);function gs(){if(!xe){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");xe=crypto.getRandomValues.bind(crypto)}return xe(fs)}const xs=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Te={randomUUID:xs};function ys(e,s,a){var r;e=e||{};const n=e.random??((r=e.rng)==null?void 0:r.call(e))??gs();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,ps(n)}function Oe(e,s,a){return Te.randomUUID&&!e?Te.randomUUID():ys(e)}const vs=()=>{const[e,s]=u.useState(""),[a,n]=u.useState(!0),[r,o]=u.useState(null),i=ne(),{sessions:c,updateSessionMetadata:l,deleteSession:d}=it(),h=u.useCallback(async()=>{n(!0),o(null);try{const f=j.getActiveSessionId(!0),y=j.getSessions(!0);if(f&&y.find(v=>v.sessionId===f)){s(f);const w=[...j.getMessages(f,!0)].sort((N,S)=>N.timestamp-S.timestamp);i.setQueryData(["messages",f],w)}else{const v=`lite-${Oe()}`,w={sessionId:v,title:"New Chat",createdAt:Date.now(),lastMessageAt:Date.now(),messageCount:0};j.addSession(w,!0),s(v),j.setActiveSessionId(v,!0),i.setQueryData(["messages",v],[])}n(!1)}catch(f){console.error("Failed to initialize session:",f),o(f instanceof Error?f:new Error("Failed to initialize session")),n(!1)}},[i]);u.useEffect(()=>{h()},[h]);const m=u.useCallback(async()=>{try{const f=`lite-${Oe()}`,y={sessionId:f,title:"New Chat",createdAt:Date.now(),lastMessageAt:Date.now(),messageCount:0};j.addSession(y,!0),s(f),j.setActiveSessionId(f,!0),i.setQueryData(["messages",f],[])}catch(f){throw console.error("Failed to create new session:",f),f}},[i]),x=u.useCallback(f=>{s(f),j.setActiveSessionId(f,!0);const v=[...j.getMessages(f,!0)].sort((w,N)=>w.timestamp-N.timestamp);i.setQueryData(["messages",f],v)},[i]),g=u.useCallback(f=>{const y=j.getSessions(!0);if(d(f),i.removeQueries({queryKey:["messages",f]}),f===e){const v=y.filter(w=>w.sessionId!==f);v.length>0?x(v[0].sessionId):m()}},[e,d,i,x,m]),p=u.useCallback(async()=>{await h()},[h]);return{currentSessionId:e,isInitializing:a,initError:r,sessions:c,createNewSession:m,switchSession:x,removeSession:g,retryInitialization:p,updateSessionMetadata:l}},bs=()=>{const{mode:e}=pe();return e==="lite"?vs():ms()},ws=()=>({checkEasterEgg:s=>{const a=s.trim().toLowerCase();return a==="yabadabadoo!"?{id:`easter-${Date.now()}`,question:s.trim(),answer:"🦴 Yabba-Dabba-Doo! Fred Flintstone here! I'm an AI now because the stone tablet upgrade finally came through. Wilma says hi! 🦕",timestamp:Date.now()}:a==="giggity"?{id:`easter-${Date.now()}`,question:s.trim(),answer:`# 🎉 Giggity Giggity Goo!

**Congratulations!** You've unlocked the *secret giggity counter*.

## Current Stats:
- **Giggities given**: ∞
- **Alright level**: Maximum
- **Coolness factor**: Off the charts

\`Warning: Excessive giggity may cause spontaneous laughter\`

> "Who else but Quagmire?" - Everyone`,timestamp:Date.now()}:null}}),js=e=>{const s=ne(),{checkEasterEgg:a}=ws(),[n,r]=u.useState([]),i=[...s.getQueryData(["messages",e])||[],...n],c=u.useCallback(h=>{const m={id:`optimistic-${Date.now()}`,question:h,answer:"",timestamp:Date.now()};return s.setQueryData(["messages",e],(x=[])=>[...x,m]),m},[e,s]),l=u.useCallback(()=>{r([])},[]),d=u.useCallback(h=>{const m=a(h);return m?(r(x=>[...x,m]),!0):!1},[a]);return{messages:i,easterEggMessages:n,addOptimisticMessage:c,clearEasterEggs:l,handleEasterEgg:d}},Ss=({enabled:e=!0,dependencies:s})=>{const a=u.useRef(null);return u.useEffect(()=>{e&&a.current&&a.current.scrollTo({top:a.current.scrollHeight,behavior:"smooth"})},s),a},Ns=({sessionId:e,messages:s,updateSessionMetadata:a})=>{const{mode:n}=pe(),r=n==="lite";u.useEffect(()=>{var o;if(e&&s.length>0){j.saveMessages(e,s,r);const i=(o=s[0])==null?void 0:o.question;a(e,s.length,i)}},[e,s,r,a])},lt=u.createContext(void 0),Cs=({children:e})=>{const[s,a]=u.useState(null),[n,r]=u.useState(!0),{clearKeys:o}=oe(),i=async()=>{try{const h=await fetch("/me",{credentials:"include"});if(h.ok){const m=await h.json();a(m)}else a(null)}catch(h){console.error("Auth check failed:",h),a(null)}finally{r(!1)}};u.useEffect(()=>{i()},[]);const c=async(h,m)=>{const x=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username_or_email:h,password:m})});if(!x.ok){const f=await x.json();if(x.status===403){const y=new Error(f.detail||"Email not verified");throw y.isEmailNotVerified=!0,y}throw new Error(f.detail||"Login failed")}const g=x.headers.get("X-CSRF-Token");g&&ue(g);const p=await x.json();a({user_id:p.user_id,username:p.username,email:p.email,is_active:!0})},l=async(h,m,x)=>{const g=await fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:h,email:m,password:x})});if(!g.ok){const f=await g.json();throw new Error(f.detail||"Registration failed")}return{email:(await g.json()).email}},d=async()=>{try{await fetch("/logout",{method:"POST",credentials:"include"})}catch(h){console.error("Logout failed:",h)}finally{ue(null),a(null),o(),localStorage.clear()}};return t.jsx(lt.Provider,{value:{user:s,loading:n,login:c,register:l,logout:d,checkAuth:i},children:e})},ie=()=>{const e=u.useContext(lt);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function G(...e){return Dt(Ft(e))}const k=u.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:G("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));k.displayName="Card";const L=u.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:G("flex flex-col space-y-1.5 p-6",e),...s}));L.displayName="CardHeader";const $=u.forwardRef(({className:e,...s},a)=>t.jsx("h3",{ref:a,className:G("text-2xl font-semibold leading-none tracking-tight",e),...s}));$.displayName="CardTitle";const E=u.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:G("p-6 pt-0",e),...s}));E.displayName="CardContent";const ct=u.forwardRef(({className:e,children:s,...a},n)=>t.jsx("div",{ref:n,className:G("relative overflow-auto",e),...a,children:s}));ct.displayName="ScrollArea";const ks=Ve("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 focus:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 focus:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),C=u.forwardRef(({className:e,variant:s,size:a,...n},r)=>t.jsx("button",{className:G(ks({variant:s,size:a,className:e})),ref:r,...n}));C.displayName="Button";const Ce=({icon:e,variant:s})=>{const a={user:"bg-gradient-to-br from-sky-400 to-cyan-500 text-white",bot:"bg-gradient-to-br from-primary to-accent text-primary-foreground"};return t.jsx("div",{className:`glass-avatar ${a[s]} rounded-full p-1.5 sm:p-2 h-7 w-7 sm:h-8 sm:w-8 flex items-center justify-center flex-shrink-0`,"aria-hidden":"true",children:t.jsx(e,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})},Es=()=>({formatTimestamp:s=>zt(new Date(s),"h:mm a")}),dt=({timestamp:e})=>{const{formatTimestamp:s}=Es();return t.jsx("span",{className:"text-xs text-muted-foreground px-1",children:t.jsx("time",{dateTime:new Date(e).toISOString(),children:s(e)})})},Is=({messageId:e,text:s,isCopied:a,onCopy:n})=>t.jsx(C,{variant:"ghost",size:"icon",className:"absolute top-1.5 right-1.5 sm:top-2 sm:right-2 h-7 w-7 sm:h-6 sm:w-6 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity focus:opacity-100",onClick:()=>n(e,s),"aria-label":a?"Copied to clipboard":"Copy message to clipboard",children:a?t.jsx(Lt,{className:"h-3 w-3","aria-hidden":"true"}):t.jsx($t,{className:"h-3 w-3","aria-hidden":"true"})}),As={'pre[class*="language-"]':{color:"#d4d4d4",fontSize:"13px",textShadow:"none",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto",background:"#1e1e1e"},'code[class*="language-"]':{color:"#d4d4d4",fontSize:"13px",textShadow:"none",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]::selection':{textShadow:"none",background:"#264F78"},'code[class*="language-"]::selection':{textShadow:"none",background:"#264F78"},'pre[class*="language-"] *::selection':{textShadow:"none",background:"#264F78"},'code[class*="language-"] *::selection':{textShadow:"none",background:"#264F78"},':not(pre) > code[class*="language-"]':{padding:".1em .3em",borderRadius:".3em",color:"#db4c69",background:"#1e1e1e"},".namespace":{Opacity:".7"},"doctype.doctype-tag":{color:"#569CD6"},"doctype.name":{color:"#9cdcfe"},comment:{color:"#6a9955"},prolog:{color:"#6a9955"},punctuation:{color:"#d4d4d4"},".language-html .language-css .token.punctuation":{color:"#d4d4d4"},".language-html .language-javascript .token.punctuation":{color:"#d4d4d4"},property:{color:"#9cdcfe"},tag:{color:"#569cd6"},boolean:{color:"#569cd6"},number:{color:"#b5cea8"},constant:{color:"#9cdcfe"},symbol:{color:"#b5cea8"},inserted:{color:"#b5cea8"},unit:{color:"#b5cea8"},selector:{color:"#d7ba7d"},"attr-name":{color:"#9cdcfe"},string:{color:"#ce9178"},char:{color:"#ce9178"},builtin:{color:"#ce9178"},deleted:{color:"#ce9178"},".language-css .token.string.url":{textDecoration:"underline"},operator:{color:"#d4d4d4"},entity:{color:"#569cd6"},"operator.arrow":{color:"#569CD6"},atrule:{color:"#ce9178"},"atrule.rule":{color:"#c586c0"},"atrule.url":{color:"#9cdcfe"},"atrule.url.function":{color:"#dcdcaa"},"atrule.url.punctuation":{color:"#d4d4d4"},keyword:{color:"#569CD6"},"keyword.module":{color:"#c586c0"},"keyword.control-flow":{color:"#c586c0"},function:{color:"#dcdcaa"},"function.maybe-class-name":{color:"#dcdcaa"},regex:{color:"#d16969"},important:{color:"#569cd6"},italic:{fontStyle:"italic"},"class-name":{color:"#4ec9b0"},"maybe-class-name":{color:"#4ec9b0"},console:{color:"#9cdcfe"},parameter:{color:"#9cdcfe"},interpolation:{color:"#9cdcfe"},"punctuation.interpolation-punctuation":{color:"#569cd6"},variable:{color:"#9cdcfe"},"imports.maybe-class-name":{color:"#9cdcfe"},"exports.maybe-class-name":{color:"#9cdcfe"},escape:{color:"#d7ba7d"},"tag.punctuation":{color:"#808080"},cdata:{color:"#808080"},"attr-value":{color:"#ce9178"},"attr-value.punctuation":{color:"#ce9178"},"attr-value.punctuation.attr-equals":{color:"#d4d4d4"},namespace:{color:"#4ec9b0"},'pre[class*="language-javascript"]':{color:"#9cdcfe"},'code[class*="language-javascript"]':{color:"#9cdcfe"},'pre[class*="language-jsx"]':{color:"#9cdcfe"},'code[class*="language-jsx"]':{color:"#9cdcfe"},'pre[class*="language-typescript"]':{color:"#9cdcfe"},'code[class*="language-typescript"]':{color:"#9cdcfe"},'pre[class*="language-tsx"]':{color:"#9cdcfe"},'code[class*="language-tsx"]':{color:"#9cdcfe"},'pre[class*="language-css"]':{color:"#ce9178"},'code[class*="language-css"]':{color:"#ce9178"},'pre[class*="language-html"]':{color:"#d4d4d4"},'code[class*="language-html"]':{color:"#d4d4d4"},".language-regex .token.anchor":{color:"#dcdcaa"},".language-html .token.punctuation":{color:"#808080"},'pre[class*="language-"] > code[class*="language-"]':{position:"relative",zIndex:"1"},".line-highlight.line-highlight":{background:"#f7ebc6",boxShadow:"inset 5px 0 0 #f7d87c",zIndex:"0"}},Ps=e=>{if(!e)return!1;const s=e.trim().toLowerCase();return!["javascript:","data:","vbscript:","file:","about:"].some(n=>s.startsWith(n))},Rs=e=>e.replace(/[^a-zA-Z0-9+#-]/g,""),ut={p:({children:e})=>t.jsx("p",{className:"mb-2 last:mb-0",children:e}),code:({className:e,children:s})=>{const a=/language-(\w+)/.exec(e||"");if(a){const r=Rs(a[1]),o=String(s).replace(/\n$/,"");return t.jsx(es,{PreTag:"div",language:r,style:As,children:o})}return!e?t.jsx("code",{className:"bg-primary/20 text-foreground px-1.5 py-0.5 rounded text-sm font-mono border border-primary/30",children:s}):t.jsx("code",{className:"block bg-primary/20 text-foreground p-3 rounded my-2 text-sm font-mono overflow-x-auto border border-primary/30",children:s})},ul:({children:e})=>t.jsx("ul",{className:"list-disc list-inside mb-2 space-y-1",role:"list",children:e}),ol:({children:e})=>t.jsx("ol",{className:"list-decimal list-inside mb-2 space-y-1",role:"list",children:e}),li:({children:e})=>t.jsx("li",{className:"ml-2",children:e}),h1:({children:e})=>t.jsx("h1",{className:"text-xl font-bold mb-2 mt-3",role:"heading","aria-level":1,children:e}),h2:({children:e})=>t.jsx("h2",{className:"text-lg font-bold mb-2 mt-3",role:"heading","aria-level":2,children:e}),h3:({children:e})=>t.jsx("h3",{className:"text-base font-bold mb-2 mt-2",role:"heading","aria-level":3,children:e}),strong:({children:e})=>t.jsx("strong",{className:"font-bold text-foreground",children:e}),em:({children:e})=>t.jsx("em",{className:"italic",children:e}),blockquote:({children:e})=>t.jsx("blockquote",{className:"border-l-4 border-primary/50 pl-4 my-2 italic text-muted-foreground",role:"blockquote",children:e}),a:({href:e,children:s})=>Ps(e)?t.jsx("a",{href:e,className:"text-primary hover:underline focus:underline",target:"_blank",rel:"noopener noreferrer","aria-label":`${s} (opens in new tab)`,children:s}):t.jsx("span",{className:"text-muted-foreground",children:s}),img:()=>null,script:()=>null,iframe:()=>null,object:()=>null,embed:()=>null},Ts=({messageId:e,text:s,timestamp:a,isCopied:n,onCopy:r})=>t.jsxs("div",{className:"flex justify-start gap-1 sm:gap-2",children:[t.jsx(Ce,{icon:Ge,variant:"bot"}),t.jsxs("div",{className:"flex flex-col items-start gap-1 max-w-[90%] sm:max-w-[85%] md:max-w-[80%]",children:[t.jsxs("div",{className:"relative group glass-message bg-secondary/40 text-secondary-foreground rounded-lg px-3 sm:px-4 py-2 w-full transition-all hover:scale-[1.02] hover:shadow-lg",role:"article","aria-label":"Assistant response",children:[t.jsx(Is,{messageId:e,text:s,isCopied:n,onCopy:r}),t.jsx(et,{className:"markdown-content text-sm sm:text-base",components:ut,disallowedElements:["script","iframe","object","embed","style"],unwrapDisallowed:!0,children:s})]}),t.jsx(dt,{timestamp:a})]})]}),Os=()=>{const[e,s]=u.useState(null),a=u.useCallback(async(n,r)=>{try{await navigator.clipboard.writeText(r),s(n),setTimeout(()=>s(null),2e3)}catch(o){console.error("Failed to copy text:",o)}},[]);return{copiedId:e,copyToClipboard:a}},Ms=({text:e,timestamp:s})=>t.jsxs("div",{className:"flex justify-end gap-1 sm:gap-2",children:[t.jsxs("div",{className:"flex flex-col items-end gap-1 max-w-[90%] sm:max-w-[85%] md:max-w-[80%]",children:[t.jsx("div",{className:"glass-message bg-gradient-to-br from-sky-400/90 to-cyan-500/90 text-white rounded-lg px-3 sm:px-4 py-2 w-full whitespace-pre-wrap transition-all hover:scale-[1.02] hover:shadow-lg text-sm sm:text-base",role:"article","aria-label":"User message",children:e}),t.jsx(dt,{timestamp:s})]}),t.jsx(Ce,{icon:We,variant:"user"})]}),_s=({message:e})=>{const{copiedId:s,copyToClipboard:a}=Os();return t.jsxs("div",{className:"space-y-2 animate-fade-in",children:[t.jsx(Ms,{text:e.question,timestamp:e.timestamp}),t.jsx(Ts,{messageId:e.id,text:e.answer,timestamp:e.timestamp,isCopied:s===e.id,onCopy:a})]})},Me=e=>`${Math.round(e*100)}%`,Ds=({routingInfo:e})=>t.jsxs("div",{className:"glass-message bg-primary/20 rounded-lg px-3 py-1.5 inline-flex items-center gap-2 text-xs sm:text-sm animate-fade-in text-foreground",role:"status","aria-live":"polite","aria-label":`Routed to ${e.agent_name} agent with ${Me(e.confidence)} confidence`,children:[t.jsxs("span",{className:"font-medium",children:["🎯 ",e.agent_name]}),t.jsx("span",{className:"opacity-75",children:"•"}),t.jsx("span",{className:"opacity-90",children:Me(e.confidence)})]}),Fs=({content:e,isStreaming:s})=>e?s?t.jsxs(t.Fragment,{children:[t.jsx("pre",{className:"whitespace-pre-wrap font-sans m-0",children:e}),t.jsx("span",{className:"inline-block w-1.5 h-4 bg-primary ml-0.5 animate-pulse","aria-hidden":"true","aria-label":"Typing indicator"})]}):t.jsx("div",{className:"markdown-content prose prose-sm sm:prose-base max-w-none",children:t.jsx(et,{components:ut,disallowedElements:["script","iframe","object","embed","style"],unwrapDisallowed:!0,children:e})}):t.jsx("span",{className:"opacity-75 animate-pulse",children:"Generating response..."}),zs=({content:e,routingInfo:s,isStreaming:a=!0})=>t.jsxs("div",{className:"flex justify-start gap-1 sm:gap-2 animate-fade-in",children:[t.jsx(Ce,{icon:Ge,variant:"bot"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[s&&t.jsx(Ds,{routingInfo:s}),t.jsx("div",{className:"glass-message bg-secondary/30 text-secondary-foreground rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base",role:"status","aria-live":"polite","aria-atomic":"false",children:t.jsx(Fs,{content:e,isStreaming:a})})]})]}),re=16e3,Ls=1,$s=.9,Ks=[/ignore\s+(previous|prior|above|all)\s+(instructions?|prompts?|commands?)/i,/disregard\s+(previous|prior|above|all)/i,/forget\s+(everything|all|previous|instructions?)/i,/you\s+are\s+now\s+(a|an)/i,/system\s*:\s*/i,/<\|im_start\|>/i,/<\|im_end\|>/i,/\[INST\]/i,/\[\/INST\]/i,/override\s+your\s+(instructions?|programming)/i],Us=e=>["function","class","const","let","var","def","public","private","import","require","return","if","else","for","while","=>","async","await",".map(",".filter(",".reduce(","console.log","print(","System.out","fmt.Print"].some(a=>e.includes(a)),ht=e=>{const s=e.trim();if(s.length<Ls)return{valid:!1,error:"Message cannot be empty"};if(s.length>re)return{valid:!1,error:`Message is too long (${s.length}/${re} characters)`};if(s.includes("\0"))return{valid:!1,error:"Message contains invalid characters"};if(!Us(s)){for(const a of Ks)if(a.test(s))return{valid:!1,error:"Message contains suspicious content. Please rephrase your query."}}return{valid:!0}},qs=({onSubmit:e,disabled:s,isLoading:a})=>{const[n,r]=u.useState(""),[o,i]=u.useState(null),[c,l]=u.useState(0),d=u.useCallback(f=>{const y=f.target.value;r(y),l(y.trim().length),o&&i(null)},[o]),h=u.useCallback(()=>{r(""),l(0),i(null)},[]),m=u.useCallback(f=>{if(f.preventDefault(),i(null),!n.trim()||s||a)return;const y=ht(n);if(!y.valid){i(y.error||"Invalid input");return}e(n.trim()),h()},[n,s,a,e,h]),x=u.useCallback(f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),m(f))},[m]),g=c>re*$s,p=c>re;return{input:n,charCount:c,validationError:o,isApproachingLimit:g,isOverLimit:p,handleChange:d,handleSubmit:m,handleKeyDown:x,clearInput:h}},Hs={mobile:{minHeight:60,maxHeight:150},desktop:{minHeight:80,maxHeight:200}},Bs=(e,s,a=Hs)=>{u.useEffect(()=>{const n=e.current;if(!n)return;n.style.height="auto";const r=n.scrollHeight,o=window.innerWidth<640,{minHeight:i,maxHeight:c}=o?a.mobile:a.desktop,l=Math.min(Math.max(r,i),c);n.style.height=`${l}px`},[s,e,a])},mt=u.forwardRef(({className:e,...s},a)=>t.jsx("textarea",{className:`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-3 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,ref:a,...s}));mt.displayName="Textarea";const pt=u.forwardRef(({value:e,onChange:s,onKeyDown:a,disabled:n,isOverLimit:r,hasError:o},i)=>t.jsx(mt,{ref:i,value:e,onChange:s,onKeyDown:a,placeholder:"Type your message... (Shift+Enter for new line)",disabled:n,className:`flex-1 min-h-[60px] sm:min-h-[80px] max-h-[150px] sm:max-h-[200px] resize-none transition-all focus:scale-[1.01] focus:mr-1 glass-input overflow-y-auto text-sm sm:text-base ${r?"border-red-500 focus:border-red-500":""}`,rows:1,"aria-label":"Chat message input","aria-describedby":o?"chat-input-error":void 0,"aria-invalid":o?"true":"false"}));pt.displayName="MessageTextarea";const Vs=({count:e,isApproachingLimit:s,isOverLimit:a})=>e===0?null:t.jsxs("div",{className:`absolute bottom-2 right-2 text-xs transition-colors ${a?"text-red-500 font-semibold":s?"text-yellow-500":"text-gray-400"}`,"aria-live":"polite",children:[e,"/",re]}),Gs=({disabled:e,isLoading:s})=>t.jsx(C,{type:"submit",disabled:e,size:"icon",className:"h-11 w-11 sm:h-10 sm:w-10 transition-transform hover:scale-110 active:scale-95 glass-button flex-shrink-0","aria-label":s?"Sending message":"Send message",children:s?t.jsx(U,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):t.jsx(Kt,{className:"h-4 w-4","aria-hidden":"true"})}),Ws=({onSubmit:e,disabled:s,isLoading:a,error:n})=>{const r=u.useRef(null),o="chat-input-error",{input:i,charCount:c,validationError:l,isApproachingLimit:d,isOverLimit:h,handleChange:m,handleSubmit:x,handleKeyDown:g}=qs({onSubmit:e,disabled:s,isLoading:a});Bs(r,i);const p=n||l;return t.jsxs("div",{className:"flex-shrink-0",children:[t.jsxs("form",{onSubmit:x,className:"flex gap-2 sm:gap-3 items-end",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(pt,{ref:r,value:i,onChange:m,onKeyDown:g,disabled:s||a,isOverLimit:h,hasError:!!p}),t.jsx(Vs,{count:c,isApproachingLimit:d,isOverLimit:h})]}),t.jsx(Gs,{disabled:s||a||!i.trim()||h,isLoading:!!a})]}),p&&t.jsxs("div",{id:o,className:"flex items-center gap-2 text-red-400 text-xs sm:text-sm mt-2 animate-fade-in",role:"alert","aria-live":"polite",children:[t.jsx(Z,{className:"h-4 w-4 flex-shrink-0","aria-hidden":"true"}),t.jsx("span",{children:p})]}),!p&&d&&!h&&t.jsx("p",{className:"text-yellow-500 text-xs sm:text-sm mt-2 animate-fade-in",children:"⚠️ Approaching character limit"})]})},ft=({isOpen:e,onClose:s,side:a="left",children:n,showOverlay:r=!0,width:o="w-full sm:w-80 lg:w-96"})=>{const c={left:{position:"left-0",translate:e?"translate-x-0":"-translate-x-full lg:translate-x-0",border:"border-r",responsive:"lg:relative"},right:{position:"right-0",translate:e?"translate-x-0":"translate-x-full",border:"border-l",responsive:"lg:absolute"}}[a];return t.jsxs(t.Fragment,{children:[r&&e&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:s,"aria-hidden":"true"}),t.jsx("aside",{className:`
          fixed ${c.responsive} inset-y-0 ${c.position} z-50
          ${o}
          transform transition-transform duration-200 ease-in-out
          ${c.translate}
        `,"aria-label":`${a} panel`,role:"dialog","aria-modal":"true",children:t.jsx(k,{className:`h-full flex flex-col glass-card ${c.border}`,children:n})})]})},ye={TODAY:0,YESTERDAY:1,RECENT_DAYS:7},Js=e=>{const s=new Date(e),n=new Date().getTime()-s.getTime(),r=Math.floor(n/(1e3*60*60*24));return r===ye.TODAY?"Today":r===ye.YESTERDAY?"Yesterday":r<ye.RECENT_DAYS?`${r} days ago`:s.toLocaleDateString()},Ys=({session:e,isActive:s,onSelect:a,onDelete:n})=>{const r=()=>{a(e.sessionId)},o=l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),a(e.sessionId))},i=l=>{l.stopPropagation(),window.confirm("Delete this chat?")&&n(e.sessionId)},c=Js(e.lastMessageAt);return t.jsx("div",{className:`group relative rounded-lg p-3 cursor-pointer transition-all hover:scale-[1.02] ${s?"glass-message bg-primary/10 border border-primary/20":"glass-message hover:bg-secondary/40"}`,onClick:r,role:"button",tabIndex:0,"aria-label":`${e.title}, ${c}, ${e.messageCount} messages${s?", currently active":""}`,"aria-current":s?"page":void 0,onKeyDown:o,children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-medium text-sm text-foreground truncate",children:e.title}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c," • ",e.messageCount," messages"]})]}),t.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-6 sm:w-6 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 focus:opacity-100 transition-opacity flex-shrink-0",onClick:i,"aria-label":`Delete chat: ${e.title}`,children:t.jsx(Je,{className:"h-3 w-3 text-red-500","aria-hidden":"true"})})]})})},F=u.forwardRef(({className:e,type:s,...a},n)=>t.jsx("input",{type:s,className:G("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...a}));F.displayName="Input";const _e=20,De=200,Fe=(e,s)=>{var r;const a=e.trim(),n=ht(a);return n.valid?a.length<_e?{valid:!1,error:`API key is too short (minimum ${_e} characters)`}:a.length>De?{valid:!1,error:`API key is too long (maximum ${De} characters)`}:s==="anthropic"&&!a.startsWith("sk-ant-")?{valid:!1,error:'Anthropic API keys must start with "sk-ant-"'}:s==="google"&&!a.startsWith("AIza")?{valid:!1,error:'Google API keys must start with "AIza"'}:{valid:!0}:{valid:!1,error:`API key ${(r=n.error)==null?void 0:r.toLowerCase()}`}},Qs=({onComplete:e})=>{const{keys:s,setApiKeys:a,setProvider:n}=oe(),[r,o]=u.useState(s.anthropic||""),[i,c]=u.useState(s.google||""),[l,d]=u.useState("anthropic"),[h,m]=u.useState(!1),[x,g]=u.useState(!1),[p,f]=u.useState(""),[y,v]=u.useState(""),w=()=>{let b=!1;return r.trim()?Fe(r,"anthropic").valid?f(""):(f("Invalid key"),b=!0):f(""),i.trim()?Fe(i,"google").valid?v(""):(v("Invalid key"),b=!0):v(""),!b},N=(b,R)=>b.trim()?R?"invalid":"valid":"empty",S=N(r,p),O=N(i,y),K=r.trim().length>0&&!p,q=i.trim().length>0&&!y,z=K&&q,W=K||q,ee=()=>{if(!w()||!W)return;a({anthropic:r.trim()||void 0,google:i.trim()||void 0});let b;z?b=l:q?b="google":b="anthropic",n(b),e&&e()},J=({status:b})=>b==="valid"?t.jsx(Ne,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):b==="invalid"?t.jsx(Ye,{className:"h-4 w-4 text-red-600 dark:text-red-400"}):null,I=b=>b==="valid"?"border-green-500/50":b==="invalid"?"border-red-500/50":"";return t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsx(k,{className:"glass-card border-yellow-500/50",children:t.jsxs(E,{className:"p-3 flex items-start gap-2",children:[t.jsx(Z,{className:"h-4 w-4 text-yellow-500 flex-shrink-0 mt-0.5"}),t.jsxs("div",{className:"text-sm",children:[t.jsx("p",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:"Keys stored in memory only"}),t.jsx("p",{className:"text-muted-foreground text-xs mt-1",children:"Your API keys will be lost when you refresh the page or close your browser."})]})]})}),t.jsx(k,{className:`glass-card ${I(S)}`,children:t.jsxs(E,{className:"p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-semibold text-sm",children:"Anthropic"}),t.jsx(J,{status:S})]}),t.jsxs("a",{href:"https://console.anthropic.com/settings/keys",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1 text-xs",children:["Get key ",t.jsx(Ee,{className:"h-3 w-3"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("label",{htmlFor:"anthropic-key",className:"block text-xs text-muted-foreground",children:[S==="empty"&&"Status: Not set",S==="valid"&&"Status: Valid",S==="invalid"&&"Status: Invalid"]})}),t.jsxs("div",{className:"relative",children:[t.jsx(F,{id:"anthropic-key",name:`api-key-anthropic-${Date.now()}`,type:h?"text":"password",value:r,onChange:b=>o(b.target.value),onFocus:b=>b.target.removeAttribute("readonly"),onBlur:w,placeholder:"sk-ant-...",className:"glass-input pr-10",autoComplete:"new-password","data-1p-ignore":!0,"data-lpignore":"true",readOnly:!0}),t.jsx(C,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>m(!h),"aria-label":h?"Hide key":"Show key",children:h?t.jsx(se,{className:"h-4 w-4"}):t.jsx(ae,{className:"h-4 w-4"})})]}),p&&t.jsx("p",{className:"text-xs text-red-500",children:p})]})]})}),t.jsx(k,{className:`glass-card ${I(O)}`,children:t.jsxs(E,{className:"p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-semibold text-sm",children:"Google"}),t.jsx(J,{status:O})]}),t.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1 text-xs",children:["Get key ",t.jsx(Ee,{className:"h-3 w-3"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("label",{htmlFor:"google-key",className:"block text-xs text-muted-foreground",children:[O==="empty"&&"Status: Not set",O==="valid"&&"Status: Valid",O==="invalid"&&"Status: Invalid"]})}),t.jsxs("div",{className:"relative",children:[t.jsx(F,{id:"google-key",name:`api-key-google-${Date.now()}`,type:x?"text":"password",value:i,onChange:b=>c(b.target.value),onFocus:b=>b.target.removeAttribute("readonly"),onBlur:w,placeholder:"AIza...",className:"glass-input pr-10",autoComplete:"new-password","data-1p-ignore":!0,"data-lpignore":"true",readOnly:!0}),t.jsx(C,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>g(!x),"aria-label":x?"Hide key":"Show key",children:x?t.jsx(se,{className:"h-4 w-4"}):t.jsx(ae,{className:"h-4 w-4"})})]}),y&&t.jsx("p",{className:"text-xs text-red-500",children:y})]})]})}),z&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Default Provider"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"provider",value:"anthropic",checked:l==="anthropic",onChange:b=>d(b.target.value),className:"w-4 h-4 text-primary focus:ring-2 focus:ring-primary"}),t.jsx("span",{className:"text-sm",children:"Anthropic"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"provider",value:"google",checked:l==="google",onChange:b=>d(b.target.value),className:"w-4 h-4 text-primary focus:ring-2 focus:ring-primary"}),t.jsx("span",{className:"text-sm",children:"Google"})]})]})]}),t.jsx(C,{onClick:ee,disabled:!W,className:"w-full glass-button",children:"Continue"}),t.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"At least one API key is required to use the chat."})]})},gt=u.createContext(void 0),Xs=({children:e})=>{const[s,a]=u.useState("lite"),[n,r]=u.useState(null),[o,i]=u.useState(!0),[c,l]=u.useState(!1);u.useEffect(()=>{(async()=>{i(!0);const m=await nt();if(a(m),m==="full")try{const x=await ot.check();r(x)}catch(x){console.error("Health check failed:",x)}else l(!0),setTimeout(()=>l(!1),3e3);i(!1)})()},[]);const d={mode:s,health:n,loading:o,backendWaking:c};return t.jsx(gt.Provider,{value:d,children:e})},xt=()=>{const e=u.useContext(gt);if(e===void 0)throw new Error("useMode must be used within a ModeProvider");return e},Zs=({sessions:e,activeSessionId:s,onSelectSession:a,onNewSession:n,onDeleteSession:r,isOpen:o,onClose:i})=>{const{hasAnyKey:c}=oe(),{mode:l}=xt(),[d,h]=u.useState(!1),m=l==="lite"&&(!c()||d),x=()=>{h(!1)},g=m&&c(),p=()=>{g?h(!1):i()};return t.jsxs(ft,{isOpen:o,onClose:i,side:"left",width:"w-full sm:w-80 lg:w-1/4",children:[t.jsxs("div",{className:"p-3 sm:p-4 border-b flex items-center justify-between flex-shrink-0",children:[t.jsx("h2",{className:"text-base sm:text-lg font-semibold gradient-text",children:m?"Enter API Keys":"Chat History"}),(g||!m)&&t.jsx(C,{variant:"ghost",size:"icon",onClick:p,className:`${g?"":"lg:hidden"} h-9 w-9 sm:h-10 sm:w-10 hover:bg-red-500/20 hover:text-red-400 transition-colors`,"aria-label":g?"Back to chat history":"Close sidebar",children:t.jsx(Qe,{className:"h-5 w-5 sm:h-5 sm:w-5 text-foreground","aria-hidden":"true"})})]}),m?t.jsx(Qs,{onComplete:x}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-3 sm:p-4 flex-shrink-0",children:t.jsxs(C,{onClick:n,className:"w-full flex items-center justify-center gap-2 glass-button h-11 sm:h-10 text-sm sm:text-base","aria-label":"Start new chat conversation",children:[t.jsx(Ut,{className:"h-4 w-4","aria-hidden":"true"}),"New Chat"]})}),t.jsx("nav",{className:"flex-1 overflow-y-auto p-2","aria-label":"Chat sessions",children:e.length===0?t.jsx("p",{className:"text-center text-muted-foreground text-sm py-8 px-3",children:"No chat history yet"}):t.jsx("ul",{className:"space-y-1",role:"list",children:e.map(f=>t.jsx("li",{children:t.jsx(Ys,{session:f,isActive:f.sessionId===s,onSelect:a,onDelete:r})},f.sessionId))})}),l==="lite"&&t.jsx("div",{className:"p-3 sm:p-4 border-t flex-shrink-0",children:t.jsxs(C,{onClick:()=>h(!0),variant:"ghost",className:"w-full flex items-center justify-center gap-2 text-sm","aria-label":"Update API keys",children:[t.jsx(qt,{className:"h-4 w-4","aria-hidden":"true"}),"Update Keys"]})})]})]})},ea=()=>{const{user:e}=ie(),s=(e==null?void 0:e.user_id)||"web_user",[a,n]=u.useState(!1),{currentSessionId:r,isInitializing:o,initError:i,sessions:c,createNewSession:l,switchSession:d,removeSession:h,retryInitialization:m,updateSessionMetadata:x}=bs(),{messages:g,addOptimisticMessage:p,clearEasterEggs:f,handleEasterEgg:y}=js(r),{sendMessage:v,isStreaming:w,error:N,routingInfo:S,streamingContent:O}=hs(r,s),K=Ss({dependencies:[g.length,w,O]});Ns({sessionId:r,messages:g,updateSessionMetadata:x});const q=async()=>{try{await l(),f(),n(!1)}catch(I){console.error("Failed to create new session:",I)}},z=I=>{d(I),f(),n(!1)},W=I=>{h(I)},ee=async I=>{r&&(y(I)||(f(),p(I),await v(I)))},J=S?{agent:S.primary_agent||S.agent,agent_name:(S.primary_agent||S.agent||"").replace(/_/g," ").replace(/\b\w/g,I=>I.toUpperCase()),confidence:S.confidence||.9,reasoning:S.reasoning}:null;return i?t.jsx("div",{className:"flex h-screen items-center justify-center p-4",children:t.jsxs(k,{className:"glass-card border-red-500/50 max-w-md",children:[t.jsx(L,{children:t.jsxs($,{className:"flex items-center gap-2 text-red-500",children:[t.jsx(Z,{className:"h-5 w-5"}),"Initialization Failed"]})}),t.jsxs(E,{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed to initialize chat session. Please try again."}),t.jsxs("p",{className:"text-xs text-red-400",children:["Error: ",i.message]}),t.jsx(C,{onClick:m,className:"w-full",children:"Retry"})]})]})}):o?t.jsx("div",{className:"flex h-screen items-center justify-center p-4",children:t.jsx(k,{className:"glass-card",children:t.jsx(E,{className:"p-4 sm:p-6",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",role:"status","aria-live":"polite",children:[t.jsx(U,{className:"h-4 w-4 animate-spin text-primary","aria-hidden":"true"}),t.jsx("p",{className:"text-foreground text-sm sm:text-base",children:"Initializing chat session..."})]})})})}):t.jsxs("div",{className:"flex gap-2 sm:gap-4 h-full",children:[t.jsx(Zs,{sessions:c,activeSessionId:r,onSelectSession:z,onNewSession:q,onDeleteSession:W,isOpen:a,onClose:()=>n(!1)}),t.jsx("main",{className:"flex-1 flex flex-col min-w-0 h-full",id:"main-content",children:t.jsxs(k,{className:"h-full flex flex-col glass-card gradient-border",children:[t.jsxs(L,{className:"flex-shrink-0 flex flex-row items-center gap-2 sm:gap-3 p-3 sm:p-6",children:[t.jsx(C,{variant:"ghost",size:"icon",onClick:()=>n(!0),className:"lg:hidden h-9 w-9 sm:h-10 sm:w-10","aria-label":"Open chat history sidebar","aria-expanded":a,"aria-controls":"chat-sidebar",children:t.jsx(Ht,{className:"h-4 w-4 sm:h-5 sm:w-5","aria-hidden":"true"})}),t.jsx($,{className:"gradient-text text-lg sm:text-xl md:text-2xl",children:"Chat"})]}),t.jsxs(E,{className:"flex-1 flex flex-col min-h-0 p-3 sm:pb-4 sm:px-6",children:[t.jsx(ct,{ref:K,className:"flex-1 mb-3 sm:mb-4 pr-2 sm:pr-4",role:"log","aria-live":"polite","aria-atomic":"false","aria-label":"Chat conversation",children:t.jsx("div",{className:"space-y-3 sm:space-y-4",children:g.length===0&&!w?t.jsx("p",{className:"text-muted-foreground text-center py-8 text-sm sm:text-base px-4",children:"Start a conversation by typing a message below"}):t.jsxs(t.Fragment,{children:[g.map(I=>t.jsx(_s,{message:I},I.id)),w&&t.jsx(zs,{content:O,routingInfo:J,isStreaming:w})]})})}),t.jsx(Ws,{onSubmit:ee,disabled:!r||w,isLoading:w,error:N?N.message:null})]})]})})]})},ta=({onClose:e})=>t.jsxs("div",{className:"p-3 sm:p-4 border-b flex items-center justify-between flex-shrink-0",children:[t.jsx("h2",{className:"text-base sm:text-lg font-semibold gradient-text",children:"Settings"}),t.jsx(C,{variant:"ghost",size:"icon",onClick:e,className:"h-9 w-9 sm:h-10 sm:w-10 hover:bg-red-500/20 hover:text-red-400 transition-colors","aria-label":"Close settings panel",children:t.jsx(Qe,{className:"h-5 w-5","aria-hidden":"true"})})]}),sa=({onReset:e})=>{const s=()=>{window.confirm("Reset all settings to default?")&&e()};return t.jsx("div",{className:"p-3 sm:p-4 border-t flex-shrink-0",children:t.jsxs(C,{variant:"outline",onClick:s,className:"w-full flex items-center justify-center gap-2 h-11 hover:bg-red-500/20 hover:text-red-400 hover:border-red-500/50 transition-colors","aria-label":"Reset all settings to default",children:[t.jsx(Bt,{className:"h-4 w-4","aria-hidden":"true"}),"Reset to Default"]})})},fe=({title:e,children:s,defaultOpen:a=!1})=>{const[n,r]=u.useState(a),o=u.useRef(null),[i,c]=u.useState(a?void 0:0);return u.useEffect(()=>{o.current&&c(n?o.current.scrollHeight:0)},[n]),t.jsxs("div",{className:"border-b border-border last:border-b-0",children:[t.jsxs("button",{onClick:()=>r(!n),className:"w-full flex items-center justify-between p-4 hover:bg-secondary/20 transition-colors","aria-expanded":n,"aria-controls":`collapsible-content-${e.replace(/\s+/g,"-")}`,children:[t.jsx("span",{className:"font-medium text-foreground text-sm sm:text-base",children:e}),t.jsx(Xe,{className:`h-4 w-4 sm:h-5 sm:w-5 transition-transform duration-200 text-muted-foreground ${n?"rotate-180":""}`,"aria-hidden":"true"})]}),t.jsx("div",{id:`collapsible-content-${e.replace(/\s+/g,"-")}`,ref:o,style:{height:i},className:"overflow-hidden transition-all duration-200 ease-in-out",children:t.jsx("div",{className:"p-4 pt-0",children:s})})]})},aa=[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],ra=({currentTheme:e,onThemeChange:s})=>{const a={light:Gt,dark:Vt};return t.jsx(fe,{title:"Appearance",defaultOpen:!0,children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm text-muted-foreground block",children:"Theme"}),t.jsx("div",{className:"flex gap-2",children:aa.map(n=>{const r=a[n.value],o=e===n.value;return t.jsxs(C,{variant:o?"default":"outline",className:`flex-1 flex items-center justify-center gap-2 h-11 ${o?"glass-button":""}`,onClick:()=>s(n.value),"aria-label":`Switch to ${n.label.toLowerCase()} theme`,"aria-pressed":o,children:[t.jsx(r,{className:"h-4 w-4","aria-hidden":"true"}),n.label]},n.value)})})]})})},na=[{value:"small",label:"Small (14px)",iconSize:"h-3 w-3",textSize:"text-sm"},{value:"medium",label:"Medium (16px)",iconSize:"h-4 w-4",textSize:"text-base"},{value:"large",label:"Large (18px)",iconSize:"h-5 w-5",textSize:"text-lg"}],oa=({currentFontSize:e,onFontSizeChange:s})=>t.jsx(fe,{title:"Text Size",defaultOpen:!0,children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm text-muted-foreground block",children:"Font Size"}),t.jsx("div",{className:"flex flex-col gap-2",children:na.map(a=>{const n=e===a.value;return t.jsxs(C,{variant:n?"default":"outline",className:`w-full flex items-center justify-center gap-2 h-11 ${n?"glass-button":""}`,onClick:()=>s(a.value),"aria-label":`Set font size to ${a.label.toLowerCase()}`,"aria-pressed":n,children:[t.jsx(Wt,{className:a.iconSize,"aria-hidden":"true"}),t.jsx("span",{className:a.textSize,children:a.label})]},a.value)})})]})}),ia=({onClearKeys:e,hasKeys:s})=>t.jsx(fe,{title:"API Keys",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Remove stored API keys from memory."}),t.jsxs("button",{onClick:e,disabled:!s,className:"flex items-center gap-2 px-4 py-2 text-sm bg-red-500/10 hover:bg-red-500/20 text-red-600 dark:text-red-400 rounded-md border border-red-500/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-red-500/10",children:[t.jsx(Je,{className:"h-4 w-4"}),"Clear API Keys"]})]})}),la=Ve("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-red-500 text-white hover:bg-red-500/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-500/80",info:"border-transparent bg-blue-500 text-white hover:bg-blue-500/80"}},defaultVariants:{variant:"default"}});function ca({className:e,variant:s,...a}){return t.jsx("div",{className:`${la({variant:s})} ${e||""}`,...a})}const da=({mode:e})=>{const a={full:{label:"Full Mode",icon:Yt,description:"Built with Google's Agent Development Kit (ADK), featuring intelligent routing, parallel specialist execution, and automatic provider fallback for rock-solid reliability.",bgClass:"bg-green-500/90 hover:bg-green-500/80",borderClass:"border-green-400/50"},lite:{label:"Lite Mode",icon:Jt,description:"Fast cloud API specialists that analyze, generate, and validate code with direct API connections.",bgClass:"bg-purple-500/90 hover:bg-purple-500/80",borderClass:"border-purple-400/50"}}[e],n=a.icon;return t.jsxs(t.Fragment,{children:[t.jsxs(ca,{className:`${a.bgClass} ${a.borderClass} text-white border transition-all duration-200`,children:[t.jsx(n,{className:"h-3 w-3 mr-1","aria-hidden":"true"}),a.label]}),t.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed mt-1",children:a.description})]})},ua=({health:e,mode:s})=>t.jsx(fe,{title:"About",children:t.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[t.jsx("p",{children:t.jsx("strong",{className:"text-foreground",children:"VIBE Code"})}),t.jsxs("p",{children:["Version: ","1.0.0"]}),s&&t.jsx("div",{className:"space-y-1",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:"Mode:"}),t.jsx(da,{mode:s})]})}),e&&t.jsxs("p",{role:"status","aria-live":"polite",children:["Status: ",t.jsx("span",{className:"text-green-500 font-semibold",children:e.status})]}),t.jsx("p",{className:"text-xs mt-4",children:"Vibe coded development assistant."}),t.jsxs("a",{href:"https://github.com/HakAl/adk_rag",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-primary hover:underline mt-2",children:[t.jsx(Qt,{className:"h-4 w-4"}),"View on GitHub"]})]})}),ha=({settings:e,onThemeChange:s,onFontSizeChange:a,onClearApiKeys:n,hasApiKeys:r,onReset:o,isOpen:i,onClose:c,health:l,mode:d})=>t.jsxs(ft,{isOpen:i,onClose:c,side:"right",children:[t.jsx(ta,{onClose:c}),t.jsxs("div",{className:"flex-1 overflow-y-auto",children:[t.jsx(ra,{currentTheme:e.theme,onThemeChange:s}),t.jsx(oa,{currentFontSize:e.fontSize,onFontSizeChange:a}),d==="lite"&&t.jsx(ia,{onClearKeys:n,hasKeys:r}),t.jsx(ua,{health:l,mode:d})]}),t.jsx(sa,{onReset:o})]}),ma=({title:e="Error",message:s,className:a=""})=>t.jsxs(k,{className:`border-red-500 bg-red-950/20 ${a}`,role:"alert",children:[t.jsx(L,{className:"p-3 sm:p-6",children:t.jsx($,{className:"text-red-500 text-base sm:text-lg",children:e})}),t.jsx(E,{className:"p-3 sm:p-6 pt-0",children:t.jsx("p",{className:"text-red-400 text-sm",children:s})})]}),pa=({message:e="Loading...",className:s=""})=>t.jsx("p",{className:`text-muted-foreground text-sm ${s}`,role:"status","aria-live":"polite",children:e}),fa=({loading:e,error:s,onSettingsClick:a,onSettingsClose:n,settingsOpen:r})=>{const{user:o,logout:i}=ie(),[c,l]=u.useState(!1),d=u.useRef(null);u.useEffect(()=>{const p=f=>{d.current&&!d.current.contains(f.target)&&l(!1)};if(c)return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[c]),u.useEffect(()=>{c&&r&&n()},[c,r,n]);const h=async()=>{l(!1),await i()},m=()=>{l(!1),a()},x=()=>{l(!c)},g=p=>p.charAt(0).toUpperCase()+p.slice(1);return t.jsx("header",{className:"flex-shrink-0 border-b border-border",children:t.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-3 sm:py-4",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[t.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-primary",children:"VIBE Code"}),t.jsx("div",{className:"flex items-center gap-3 sm:gap-4 flex-wrap",children:o&&t.jsxs("div",{className:"relative",ref:d,children:[t.jsxs(C,{variant:"ghost",onClick:x,className:"flex items-center gap-2 h-9 sm:h-10","aria-label":"User menu","aria-expanded":c,children:[t.jsx(We,{className:"h-4 w-4 sm:h-5 sm:w-5","aria-hidden":"true"}),t.jsxs("span",{className:"text-sm sm:text-base",children:["Welcome, ",g(o.username)]}),t.jsx(Xe,{className:`h-4 w-4 transition-transform ${c?"rotate-180":""}`,"aria-hidden":"true"})]}),c&&t.jsx("div",{className:"absolute right-0 mt-2 w-48 glass-card border border-border rounded-md shadow-lg z-50",children:t.jsxs("div",{className:"py-1",children:[t.jsxs("button",{onClick:m,className:"w-full px-4 py-2 text-sm text-left hover:bg-muted/50 flex items-center gap-2",children:[t.jsx(Xt,{className:"h-4 w-4","aria-hidden":"true"}),"Settings"]}),t.jsxs("button",{onClick:h,className:"w-full px-4 py-2 text-sm text-left hover:bg-muted/50 flex items-center gap-2 text-red-500",children:[t.jsx(Zt,{className:"h-4 w-4","aria-hidden":"true"}),"Sign Out"]})]})})]})})]}),e&&t.jsx(pa,{className:"mt-2"}),s&&t.jsx(ma,{message:s,className:"mt-3 sm:mt-4"})]})})},ga=({children:e,loading:s,error:a,onSettingsClick:n,onSettingsClose:r,settingsOpen:o})=>t.jsxs("div",{className:"flex flex-col h-screen",children:[t.jsx(fa,{loading:s,error:a,onSettingsClick:n,onSettingsClose:r,settingsOpen:o}),t.jsx("main",{className:"flex-1 overflow-hidden p-3 sm:p-4 md:p-6",children:e})]}),ze=1,Le="vibe-agent-settings",$e={theme:"dark",fontSize:"medium"},xa={small:"14px",medium:"16px",large:"18px"},yt=u.createContext(void 0),ya=({children:e})=>{const[s,a]=u.useState(()=>{try{const l=localStorage.getItem(Le);if(l){const d=JSON.parse(l);if(d.version===ze)return d.data;console.warn("Settings version mismatch, using defaults")}}catch(l){console.error("Failed to load settings:",l)}return $e});u.useEffect(()=>{const l=document.documentElement;s.theme==="dark"?l.classList.add("dark"):l.classList.remove("dark")},[s.theme]),u.useEffect(()=>{const l=document.documentElement;l.style.fontSize=xa[s.fontSize]},[s.fontSize]),u.useEffect(()=>{try{const l={version:ze,data:s};localStorage.setItem(Le,JSON.stringify(l))}catch(l){console.error("Failed to save settings:",l)}},[s]);const c={settings:s,updateTheme:l=>{a(d=>({...d,theme:l}))},updateFontSize:l=>{a(d=>({...d,fontSize:l}))},updateSettings:l=>{a(d=>({...d,...l}))},resetSettings:()=>{a($e)}};return t.jsx(yt.Provider,{value:c,children:e})},va=()=>{const[e,s]=u.useState(""),[a,n]=u.useState(""),[r,o]=u.useState(!1),[i,c]=u.useState(""),[l,d]=u.useState(!1),{user:h,login:m}=ie(),x=Se();if(h&&!l)return t.jsx(me,{to:"/chat",replace:!0});const g=async p=>{p.preventDefault(),c(""),d(!0);try{await m(e,a),x("/chat")}catch(f){f.isEmailNotVerified?x("/verify-email-sent",{state:{email:e.includes("@")?e:""}}):c(f instanceof Error?f.message:"Login failed")}finally{d(!1)}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(k,{className:"glass-card w-full max-w-md",children:[t.jsxs(L,{className:"space-y-1",children:[t.jsx($,{className:"gradient-text text-2xl sm:text-3xl text-center",children:"Sign in"}),t.jsx("p",{className:"text-center text-muted-foreground text-sm",children:"Access your VIBE Code"})]}),t.jsx(E,{children:t.jsxs("form",{className:"space-y-4",onSubmit:g,children:[i&&t.jsx(k,{className:"glass-card border-red-500/50",children:t.jsxs(E,{className:"p-3 flex items-start gap-2",children:[t.jsx(Z,{className:"h-4 w-4 text-red-500 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm text-red-500",children:i})]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"usernameOrEmail",className:"block text-sm font-medium",children:"Username or Email"}),t.jsx(F,{id:"usernameOrEmail",type:"text",required:!0,value:e,onChange:p=>s(p.target.value),className:"glass-input",disabled:l})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(F,{id:"password",type:r?"text":"password",required:!0,value:a,onChange:p=>n(p.target.value),className:"glass-input pr-10",disabled:l}),t.jsx(C,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>o(!r),disabled:l,"aria-label":r?"Hide password":"Show password",children:r?t.jsx(se,{className:"h-4 w-4"}):t.jsx(ae,{className:"h-4 w-4"})})]})]}),t.jsx(C,{type:"submit",disabled:l,className:"w-full glass-button",children:l?t.jsxs(t.Fragment,{children:[t.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"}),t.jsx("div",{className:"text-center",children:t.jsx(te,{to:"/sign-up",className:"text-sm text-primary hover:underline",tabIndex:l?-1:0,children:"Don't have an account? Register"})})]})})]})})};function ba(e,s){e.prototype=Object.create(s.prototype),e.prototype.constructor=e,ts(e,s)}var wa=Object.defineProperty,ja=Object.defineProperties,Sa=Object.getOwnPropertyDescriptors,he=Object.getOwnPropertySymbols,vt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable,we=(e,s,a)=>s in e?wa(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,_=(e,s)=>{for(var a in s||(s={}))vt.call(s,a)&&we(e,a,s[a]);if(he)for(var a of he(s))bt.call(s,a)&&we(e,a,s[a]);return e},wt=(e,s)=>ja(e,Sa(s)),Na=(e,s)=>{var a={};for(var n in e)vt.call(e,n)&&s.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&he)for(var n of he(e))s.indexOf(n)<0&&bt.call(e,n)&&(a[n]=e[n]);return a},A=(e,s,a)=>(we(e,typeof s!="symbol"?s+"":s,a),a),X=(e,s,a)=>new Promise((n,r)=>{var o=l=>{try{c(a.next(l))}catch(d){r(d)}},i=l=>{try{c(a.throw(l))}catch(d){r(d)}},c=l=>l.done?n(l.value):Promise.resolve(l.value).then(o,i);c((a=a.apply(e,s)).next())}),Ca="hCaptcha-script",de="hCaptchaOnLoad",Ke="script-error",V="@hCaptcha/loader";function ka(e){return Object.entries(e).filter(([,s])=>s||s===!1).map(([s,a])=>`${encodeURIComponent(s)}=${encodeURIComponent(String(a))}`).join("&")}function jt(e){let s=e&&e.ownerDocument||document,a=s.defaultView||s.parentWindow||window;return{document:s,window:a}}function St(e){return e||document.head}function Ea(e){var s;e.setTag("source",V),e.setTag("url",document.URL),e.setContext("os",{UA:navigator.userAgent}),e.setContext("browser",_({},Ia())),e.setContext("device",wt(_({},Aa()),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:((s=screen.orientation)==null?void 0:s.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))}function Ia(){var e,s,a,n,r,o;let i=navigator.userAgent,c,l;return i.indexOf("Firefox")!==-1?(c="Firefox",l=(e=i.match(/Firefox\/([\d.]+)/))==null?void 0:e[1]):i.indexOf("Edg")!==-1?(c="Microsoft Edge",l=(s=i.match(/Edg\/([\d.]+)/))==null?void 0:s[1]):i.indexOf("Chrome")!==-1&&i.indexOf("Safari")!==-1?(c="Chrome",l=(a=i.match(/Chrome\/([\d.]+)/))==null?void 0:a[1]):i.indexOf("Safari")!==-1&&i.indexOf("Chrome")===-1?(c="Safari",l=(n=i.match(/Version\/([\d.]+)/))==null?void 0:n[1]):i.indexOf("Opera")!==-1||i.indexOf("OPR")!==-1?(c="Opera",l=(r=i.match(/(Opera|OPR)\/([\d.]+)/))==null?void 0:r[2]):i.indexOf("MSIE")!==-1||i.indexOf("Trident")!==-1?(c="Internet Explorer",l=(o=i.match(/(MSIE |rv:)([\d.]+)/))==null?void 0:o[2]):(c="Unknown",l="Unknown"),{name:c,version:l}}function Aa(){let e=navigator.userAgent,s;e.indexOf("Win")!==-1?s="Windows":e.indexOf("Mac")!==-1?s="Mac":e.indexOf("Linux")!==-1?s="Linux":e.indexOf("Android")!==-1?s="Android":e.indexOf("like Mac")!==-1||e.indexOf("iPhone")!==-1||e.indexOf("iPad")!==-1?s="iOS":s="Unknown";let a;return/Mobile|iPhone|iPod|Android/i.test(e)?a="Mobile":/Tablet|iPad/i.test(e)?a="Tablet":a="Desktop",{model:s,family:s,device:a}}var Pa=class Nt{constructor(s){A(this,"_parent"),A(this,"breadcrumbs",[]),A(this,"context",{}),A(this,"extra",{}),A(this,"tags",{}),A(this,"request"),A(this,"user"),this._parent=s}get parent(){return this._parent}child(){return new Nt(this)}setRequest(s){return this.request=s,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(s){return typeof s.timestamp>"u"&&(s.timestamp=new Date().toISOString()),this.breadcrumbs.push(s),this}setExtra(s,a){return this.extra[s]=a,this}removeExtra(s){return delete this.extra[s],this}setContext(s,a){return typeof a.type>"u"&&(a.type=s),this.context[s]=a,this}removeContext(s){return delete this.context[s],this}setTags(s){return this.tags=_(_({},this.tags),s),this}setTag(s,a){return this.tags[s]=a,this}removeTag(s){return delete this.tags[s],this}setUser(s){return this.user=s,this}removeUser(){return this.user=void 0,this}toBody(){let s=[],a=this;for(;a;)s.push(a),a=a.parent;return s.reverse().reduce((n,r)=>{var o;return n.breadcrumbs=[...(o=n.breadcrumbs)!=null?o:[],...r.breadcrumbs],n.extra=_(_({},n.extra),r.extra),n.contexts=_(_({},n.contexts),r.context),n.tags=_(_({},n.tags),r.tags),r.user&&(n.user=r.user),r.request&&(n.request=r.request),n},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},Ra=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ta=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,Oa=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ma=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,le="?",Ue="An unknown error occurred",_a="0.0.4";function Da(e){for(let s=0;s<e.length;s++)e[s]=Math.floor(Math.random()*256);return e}function T(e){return(e+256).toString(16).substring(1)}function Fa(){let e=Da(new Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,T(e[0])+T(e[1])+T(e[2])+T(e[3])+"-"+T(e[4])+T(e[5])+"-"+T(e[6])+T(e[7])+"-"+T(e[8])+T(e[9])+"-"+T(e[10])+T(e[11])+T(e[12])+T(e[13])+T(e[14])+T(e[15])}var za=[[Ra,"chrome"],[Oa,"winjs"],[Ta,"gecko"]];function La(e){var s,a,n,r;if(!e.stack)return null;let o=[],i=(n=(a=(s=e.stack).split)==null?void 0:a.call(s,`
`))!=null?n:[];for(let c=0;c<i.length;++c){let l=null,d=null,h=null;for(let[m,x]of za)if(d=m.exec(i[c]),d){h=x;break}if(!(!d||!h)){if(h==="chrome")l={filename:(r=d[2])!=null&&r.startsWith("address at ")?d[2].substring(11):d[2],function:d[1]||le,lineno:d[3]?+d[3]:null,colno:d[4]?+d[4]:null};else if(h==="winjs")l={filename:d[2],function:d[1]||le,lineno:+d[3],colno:d[4]?+d[4]:null};else if(h==="gecko")c===0&&!d[5]&&e.columnNumber!==void 0&&o.length>0&&(o[0].column=e.columnNumber+1),l={filename:d[3],function:d[1]||le,lineno:d[4]?+d[4]:null,colno:d[5]?+d[5]:null};else continue;!l.function&&l.lineno&&(l.function=le),o.push(l)}}return o.length?o.reverse():null}function $a(e){let s=La(e);return{type:e.name,value:e.message,stacktrace:{frames:s??[]}}}function Ka(e){let s=Ma.exec(e),a=s?s.slice(1):[];if(a.length!==6)throw new Error("Invalid DSN");let n=a[5].split("/"),r=n.slice(0,-1).join("/");return a[0]+"://"+a[3]+(a[4]?":"+a[4]:"")+(r?"/"+r:"")+"/api/"+n.pop()+"/envelope/?sentry_version=7&sentry_key="+a[1]+(a[2]?"&sentry_secret="+a[2]:"")}function Ua(e,s,a){var n,r;let o=_({event_id:Fa().replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:_a},environment:s,release:a,timestamp:Date.now()/1e3},e.scope.toBody());if(e.type==="exception"){o.message=(r=(n=e.error)==null?void 0:n.message)!=null?r:"Unknown error",o.fingerprint=[o.message];let i=[],c=e.error;for(let l=0;l<5&&c&&(i.push($a(c)),!(!c.cause||!(c.cause instanceof Error)));l++)c=c.cause;o.exception={values:i.reverse()}}return e.type==="message"&&(o.message=e.message,o.level=e.level),o}function qa(e){if(e instanceof Error)return e;if(typeof e=="string")return new Error(e);if(typeof e=="object"&&e!==null&&!Array.isArray(e)){let a=e,{message:n}=a,r=Na(a,["message"]),o=new Error(typeof n=="string"?n:Ue);return Object.assign(o,r)}let s=new Error(Ue);return Object.assign(s,{cause:e})}function Ha(e,s,a){return X(this,null,function*(){var n,r;try{if(typeof fetch<"u"&&typeof AbortSignal<"u"){let o;if(a){let l=new AbortController;o=l.signal,setTimeout(()=>l.abort(),a)}let i=yield fetch(e,wt(_({},s),{signal:o})),c=yield i.text();return{status:i.status,body:c}}return yield new Promise((o,i)=>{var c,l;let d=new XMLHttpRequest;if(d.open((c=s==null?void 0:s.method)!=null?c:"GET",e),d.onload=()=>o({status:d.status,body:d.responseText}),d.onerror=()=>i(new Error("XHR Network Error")),s==null?void 0:s.headers)for(let[h,m]of Object.entries(s.headers))d.setRequestHeader(h,m);if(a){let h=setTimeout(()=>{d.abort(),i(new Error("Request timed out"))},a);d.onloadend=()=>{clearTimeout(h)}}d.send((l=s==null?void 0:s.body)==null?void 0:l.toString())})}catch(o){return{status:0,body:(r=(n=o==null?void 0:o.toString)==null?void 0:n.call(o))!=null?r:"Unknown error"}}})}var M,je=(M=class{constructor(e){A(this,"apiURL"),A(this,"dsn"),A(this,"environment"),A(this,"release"),A(this,"sampleRate"),A(this,"debug"),A(this,"_scope"),A(this,"shouldBuffer",!1),A(this,"bufferlimit",20),A(this,"buffer",[]);var s,a,n,r,o;this.environment=e.environment,this.release=e.release,this.sampleRate=(s=e.sampleRate)!=null?s:1,this.debug=(a=e.debug)!=null?a:!1,this._scope=(n=e.scope)!=null?n:new Pa,this.apiURL=Ka(e.dsn),this.dsn=e.dsn,this.shouldBuffer=(r=e.buffer)!=null?r:!1,this.bufferlimit=(o=e.bufferLimit)!=null?o:20}static init(e){M._instance||(M._instance=new M(e))}static get instance(){if(!M._instance)throw new Error("Sentry has not been initialized");return M._instance}log(...e){this.debug&&console.log(...e)}get scope(){return this._scope}static get scope(){return M.instance.scope}withScope(e){let s=this._scope.child();e(s)}static withScope(e){M.instance.withScope(e)}captureException(e,s){this.captureEvent({type:"exception",level:"error",error:qa(e),scope:s??this._scope})}static captureException(e,s){M.instance.captureException(e,s)}captureMessage(e,s="info",a){this.captureEvent({type:"message",level:s,message:e,scope:a??this._scope})}static captureMessage(e,s="info",a){M.instance.captureMessage(e,s,a)}captureEvent(e){if(Math.random()>=this.sampleRate){this.log("Dropped event due to sample rate");return}if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(e)}else this.sendEvent(e)}sendEvent(e,s=5e3){return X(this,null,function*(){try{this.log("Sending sentry event",e);let a=Ua(e,this.environment,this.release),n={event_id:a.event_id,dsn:this.dsn},r={type:"event"},o=JSON.stringify(n)+`
`+JSON.stringify(r)+`
`+JSON.stringify(a),i=yield Ha(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:o},s);this.log("Sentry response",i.status),i.status!==200&&(console.log(i.body),console.error("Failed to send event to Sentry",i))}catch(a){console.error("Failed to send event",a)}})}flush(e=5e3){return X(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let s=this.buffer.splice(0,this.buffer.length).map(a=>this.sendEvent(a,e));yield Promise.all(s),this.log("Flushed all events")}catch(s){console.error("Failed to flush events",s)}})}static flush(e=5e3){return M.instance.flush(e)}static reset(){M._instance=void 0}},A(M,"_instance"),M),Ba="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",Va="2.1.0",Ga="production";function Wa(e=!0){if(!e)return qe();je.init({dsn:Ba,release:Va,environment:Ga});let s=je.scope;return Ea(s),qe(s)}function qe(e=null){return{addBreadcrumb:s=>{e&&e.addBreadcrumb(s)},captureRequest:s=>{e&&e.setRequest(s)},captureException:s=>{e&&je.captureException(s,e)}}}function Ja({scriptLocation:e,query:s,loadAsync:a=!0,crossOrigin:n="anonymous",apihost:r="https://js.hcaptcha.com",cleanup:o=!1,secureApi:i=!1,scriptSource:c=""}={},l){let d=St(e),h=jt(d);return new Promise((m,x)=>{let g=h.document.createElement("script");g.id=Ca,c?g.src=`${c}?onload=${de}`:i?g.src=`${r}/1/secure-api.js?onload=${de}`:g.src=`${r}/1/api.js?onload=${de}`,g.crossOrigin=n,g.async=a;let p=(f,y)=>{try{!i&&o&&d.removeChild(g),y(f)}catch(v){x(v)}};g.onload=f=>p(f,m),g.onerror=f=>{l&&l(g.src),p(f,x)},g.src+=s!==""?`&${s}`:"",d.appendChild(g)})}var ce=[];function Ya(e={cleanup:!1},s){try{s.addBreadcrumb({category:V,message:"hCaptcha loader params",data:e});let a=St(e.scriptLocation),n=jt(a),r=ce.find(({scope:i})=>i===n.window);if(r)return s.addBreadcrumb({category:V,message:"hCaptcha already loaded"}),r.promise;let o=new Promise((i,c)=>X(this,null,function*(){try{n.window[de]=()=>{s.addBreadcrumb({category:V,message:"hCaptcha script called onload function"}),i(n.window.hcaptcha)};let l=ka({custom:e.custom,render:e.render,sentry:e.sentry,assethost:e.assethost,imghost:e.imghost,reportapi:e.reportapi,endpoint:e.endpoint,host:e.host,recaptchacompat:e.recaptchacompat,hl:e.hl});yield Ja(_({query:l},e),d=>{s.captureRequest({url:d,method:"GET"})}),s.addBreadcrumb({category:V,message:"hCaptcha loaded",data:r})}catch{s.addBreadcrumb({category:V,message:"hCaptcha failed to load"});let d=ce.findIndex(h=>h.scope===n.window);d!==-1&&ce.splice(d,1),c(new Error(Ke))}}));return ce.push({promise:o,scope:n.window}),o}catch(a){return s.captureException(a),Promise.reject(new Error(Ke))}}function Ct(e,s,a=0){return X(this,null,function*(){let n=a<2?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield Ya(e,s)}catch(r){return s.addBreadcrumb({category:V,message:n}),a>=2?(s.captureException(r),Promise.reject(r)):(a+=1,Ct(e,s,a))}})}function Qa(){return X(this,arguments,function*(e={}){let s=Wa(e.sentry);return yield Ct(e,s)})}function He(e){var s=e&&e.ownerDocument||document,a=s.defaultView||s.parentWindow||window;return{document:s,window:a}}function Be(e){return e||document.head}var Xa=["userJourneys"],Za=function(e){ba(s,e);function s(n){var r;return r=e.call(this,n)||this,r._hcaptcha=void 0,r.renderCaptcha=r.renderCaptcha.bind(D(r)),r.resetCaptcha=r.resetCaptcha.bind(D(r)),r.removeCaptcha=r.removeCaptcha.bind(D(r)),r.isReady=r.isReady.bind(D(r)),r._onReady=null,r.loadCaptcha=r.loadCaptcha.bind(D(r)),r.handleOnLoad=r.handleOnLoad.bind(D(r)),r.handleSubmit=r.handleSubmit.bind(D(r)),r.handleExpire=r.handleExpire.bind(D(r)),r.handleError=r.handleError.bind(D(r)),r.handleOpen=r.handleOpen.bind(D(r)),r.handleClose=r.handleClose.bind(D(r)),r.handleChallengeExpired=r.handleChallengeExpired.bind(D(r)),r.ref=u.createRef(),r.apiScriptRequested=!1,r.sentryHub=null,r.captchaId="",r.state={isApiReady:!1,isRemoved:!1,elementId:n.id},r}var a=s.prototype;return a.componentDidMount=function(){var r=this,o=Be(this.props.scriptLocation),i=He(o);this._hcaptcha=i.window.hcaptcha||void 0;var c=typeof this._hcaptcha<"u";if(c){this.setState({isApiReady:!0},function(){r.renderCaptcha()});return}this.loadCaptcha()},a.componentWillUnmount=function(){var r=this._hcaptcha,o=this.captchaId;this.isReady()&&(r.reset(o),r.remove(o))},a.shouldComponentUpdate=function(r,o){return!(this.state.isApiReady!==o.isApiReady||this.state.isRemoved!==o.isRemoved)},a.componentDidUpdate=function(r){var o=this,i=["sitekey","size","theme","tabindex","languageOverride","endpoint"],c=i.every(function(l){return r[l]===o.props[l]});c||this.removeCaptcha(function(){o.renderCaptcha()})},a.loadCaptcha=function(){if(!this.apiScriptRequested){var r=this.props,o=r.apihost,i=r.assethost,c=r.endpoint,l=r.host,d=r.imghost,h=r.languageOverride,m=r.reCaptchaCompat,x=r.reportapi,g=r.sentry,p=r.custom,f=r.loadAsync,y=r.scriptLocation,v=r.scriptSource,w=r.secureApi,N=r.cleanup,S=N===void 0?!0:N,O=r.userJourneys,K={render:"explicit",apihost:o,assethost:i,endpoint:c,hl:h,host:l,imghost:d,recaptchacompat:m===!1?"off":null,reportapi:x,sentry:g,custom:p,loadAsync:f,scriptLocation:y,scriptSource:v,secureApi:w,cleanup:S,userJourneys:O};Qa(K).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}},a.renderCaptcha=function(r){var o=this,i=this.props.onReady,c=this.state.isApiReady,l=this.captchaId;if(!(!c||l)){var d=this.props,h=d.userJourneys,m=ss(d,Xa),x=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},m,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0,uj:h!==void 0?h:!1}),g=this._hcaptcha,p=g.render(this.ref.current,x);this.captchaId=p,this.setState({isRemoved:!1},function(){r&&r(),i&&i(),o._onReady&&o._onReady(p)})}},a.resetCaptcha=function(){var r=this._hcaptcha,o=this.captchaId;this.isReady()&&r.reset(o)},a.removeCaptcha=function(r){var o=this,i=this._hcaptcha,c=this.captchaId;this.isReady()&&this.setState({isRemoved:!0},function(){o.captchaId="",i.remove(c),r&&r()})},a.handleOnLoad=function(){var r=this;this.setState({isApiReady:!0},function(){var o=Be(r.props.scriptLocation),i=He(o);r._hcaptcha=i.window.hcaptcha,r.renderCaptcha(function(){var c=r.props.onLoad;c&&c()})})},a.handleSubmit=function(r){var o=this.props.onVerify,i=this.state.isRemoved,c=this._hcaptcha,l=this.captchaId;if(!(typeof c>"u"||i)){var d=c.getResponse(l),h=c.getRespKey(l);o&&o(d,h)}},a.handleExpire=function(){var r=this.props.onExpire,o=this._hcaptcha,i=this.captchaId;this.isReady()&&(o.reset(i),r&&r())},a.handleError=function(r){var o=this.props.onError,i=this._hcaptcha,c=this.captchaId;this.isReady()&&i.reset(c),o&&o(r)},a.isReady=function(){var r=this.state,o=r.isApiReady,i=r.isRemoved;return o&&!i},a.handleOpen=function(){!this.isReady()||!this.props.onOpen||this.props.onOpen()},a.handleClose=function(){!this.isReady()||!this.props.onClose||this.props.onClose()},a.handleChallengeExpired=function(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()},a.execute=function(r){var o=this;r===void 0&&(r=null),r=typeof r=="object"?r:null;try{var i=this._hcaptcha,c=this.captchaId;if(!this.isReady()){var l,d=new Promise(function(h,m){o._onReady=function(x){try{var g=o._hcaptcha;r&&r.async?g.execute(x,r).then(h).catch(m):h(g.execute(x,r))}catch(p){m(p)}}});return(l=r)!=null&&l.async?d:null}return i.execute(c,r)}catch(h){return r&&r.async?Promise.reject(h):null}},a.close=function(){var r=this._hcaptcha,o=this.captchaId;if(this.isReady())return r.close(o)},a.setData=function(r){var o=this._hcaptcha,i=this.captchaId;this.isReady()&&(r&&typeof r!="object"&&(r=null),o.setData(i,r))},a.getResponse=function(){var r=this._hcaptcha;return r.getResponse(this.captchaId)},a.getRespKey=function(){var r=this._hcaptcha;return r.getRespKey(this.captchaId)},a.render=function(){var r=this.state.elementId;return u.createElement("div",{ref:this.ref,id:r})},s}(u.Component);const er="0976d31e-142a-428a-8a2a-0c302c5c8c76",tr=()=>{const[e,s]=u.useState(""),[a,n]=u.useState(""),[r,o]=u.useState(""),[i,c]=u.useState(""),[l,d]=u.useState(!1),[h,m]=u.useState(!1),[x,g]=u.useState(""),[p,f]=u.useState(!1),[y,v]=u.useState(null),[w,N]=u.useState(!1),[S,O]=u.useState(!0),{user:K}=ie(),q=Se(),z=u.useRef(null);if(u.useEffect(()=>{(async()=>{try{const R=await fetch("/register/captcha-status");if(R.ok){const ke=await R.json();N(ke.captcha_required)}}catch(R){console.error("Failed to check captcha status:",R)}finally{O(!1)}})()},[]),K&&!p)return t.jsx(me,{to:"/chat",replace:!0});const W=b=>{v(b),g("")},ee=()=>{v(null)},J=b=>{console.error("hCaptcha error:",b),v(null),g("CAPTCHA verification failed. Please try again.")},I=async b=>{if(b.preventDefault(),g(""),r!==i){g("Passwords do not match");return}if(!/^[a-zA-Z0-9]+$/.test(e)){g("Username must contain only letters and numbers");return}if(e.length<3||e.length>30){g("Username must be 3-30 characters");return}if(r.length<8){g("Password must be at least 8 characters");return}if(w&&!y){g("Please complete the CAPTCHA");return}f(!0);try{const R=await fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:e,email:a,password:r,captcha_token:y})});if(R.headers.get("X-Require-Visible-Captcha")==="true"&&(N(!0),v(null),z.current&&z.current.resetCaptcha()),!R.ok){const Et=await R.json();throw new Error(Et.detail||"Registration failed")}const kt=await R.json();q("/verify-email-sent",{state:{email:kt.email}})}catch(R){g(R instanceof Error?R.message:"Registration failed"),z.current&&z.current.resetCaptcha(),v(null)}finally{f(!1)}};return S?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsx(U,{className:"h-8 w-8 animate-spin text-primary"})}):t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(k,{className:"glass-card w-full max-w-md",children:[t.jsxs(L,{className:"space-y-1",children:[t.jsx($,{className:"gradient-text text-2xl sm:text-3xl text-center",children:"Create Account"}),t.jsx("p",{className:"text-center text-muted-foreground text-sm",children:"Join VIBE Code"})]}),t.jsx(E,{children:t.jsxs("form",{className:"space-y-4",onSubmit:I,children:[x&&t.jsx(k,{className:"glass-card border-red-500/50",children:t.jsxs(E,{className:"p-3 flex items-start gap-2",children:[t.jsx(Z,{className:"h-4 w-4 text-red-500 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm text-red-500",children:x})]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"username",className:"block text-sm font-medium",children:"Username"}),t.jsx(F,{id:"username",type:"text",required:!0,value:e,onChange:b=>s(b.target.value),placeholder:"Letters and numbers only",className:"glass-input",disabled:p}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"3-30 characters, letters and numbers only"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium",children:"Email"}),t.jsx(F,{id:"email",type:"email",required:!0,value:a,onChange:b=>n(b.target.value),className:"glass-input",disabled:p})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(F,{id:"password",type:l?"text":"password",required:!0,value:r,onChange:b=>o(b.target.value),className:"glass-input pr-10",disabled:p}),t.jsx(C,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>d(!l),disabled:p,"aria-label":l?"Hide password":"Show password",children:l?t.jsx(se,{className:"h-4 w-4"}):t.jsx(ae,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 8 characters"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(F,{id:"confirmPassword",type:h?"text":"password",required:!0,value:i,onChange:b=>c(b.target.value),className:"glass-input pr-10",disabled:p}),t.jsx(C,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>m(!h),disabled:p,"aria-label":h?"Hide password":"Show password",children:h?t.jsx(se,{className:"h-4 w-4"}):t.jsx(ae,{className:"h-4 w-4"})})]})]}),t.jsx("div",{className:"flex justify-center",children:t.jsx(Za,{ref:z,sitekey:er,onVerify:W,onExpire:ee,onError:J,size:w?"normal":"invisible"})}),w&&t.jsx("p",{className:"text-xs text-yellow-600 text-center",children:"⚠️ Multiple failed attempts detected. Please complete the CAPTCHA."}),t.jsx(C,{type:"submit",disabled:p||w&&!y,className:"w-full glass-button",children:p?t.jsxs(t.Fragment,{children:[t.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create account"}),t.jsx("div",{className:"text-center",children:t.jsx(te,{to:"/sign-in",className:"text-sm text-primary hover:underline",tabIndex:p?-1:0,children:"Already have an account? Sign in"})})]})})]})})},sr=()=>{var m;const s=((m=Rt().state)==null?void 0:m.email)||"",[a,n]=u.useState(s),[r,o]=u.useState(!1),[i,c]=u.useState(""),[l,d]=u.useState(!1),h=async()=>{if(!a){c("Please enter your email address");return}c(""),d(!1),o(!0);try{const x=await fetch("/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:a})});if(!x.ok){const g=await x.json();throw x.status===429?new Error("Too many requests. Please try again later."):new Error(g.detail||"Failed to resend verification email")}d(!0)}catch(x){c(x instanceof Error?x.message:"Failed to resend email")}finally{o(!1)}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(k,{className:"glass-card w-full max-w-md",children:[t.jsxs(L,{className:"space-y-1 text-center",children:[t.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:t.jsx(Ze,{className:"h-6 w-6 text-primary"})}),t.jsx($,{className:"gradient-text text-2xl sm:text-3xl",children:"Check Your Email"}),t.jsx("p",{className:"text-muted-foreground text-sm",children:"We've sent a verification link to verify your account"})]}),t.jsxs(E,{className:"space-y-4",children:[l&&t.jsx(k,{className:"glass-card border-green-500/50",children:t.jsxs(E,{className:"p-3 flex items-start gap-2",children:[t.jsx(Ne,{className:"h-4 w-4 text-green-500 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm text-green-500",children:"Verification email sent! Please check your inbox and SPAM folder."})]})}),i&&t.jsx(k,{className:"glass-card border-red-500/50",children:t.jsxs(E,{className:"p-3 flex items-start gap-2",children:[t.jsx(Z,{className:"h-4 w-4 text-red-500 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm text-red-500",children:i})]})}),t.jsx(k,{className:"glass-card border-yellow-500/30",children:t.jsxs(E,{className:"p-3 space-y-2",children:[t.jsx("p",{className:"text-sm font-medium",children:"Important:"}),t.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[t.jsx("li",{children:"Check your SPAM/Junk folder if you don't see the email"}),t.jsx("li",{children:"The verification link expires in 24 hours"}),t.jsx("li",{children:"Click the link in the email to activate your account"})]})]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Didn't receive the email?"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(F,{type:"email",placeholder:"Enter your email",value:a,onChange:x=>n(x.target.value),className:"glass-input",disabled:r}),t.jsx(C,{onClick:h,disabled:r||!a,className:"w-full glass-button",children:r?t.jsxs(t.Fragment,{children:[t.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Resend verification email"})]})]}),t.jsx("div",{className:"text-center pt-4",children:t.jsx(te,{to:"/sign-in",className:"text-sm text-primary hover:underline",children:"Back to login"})})]})]})})},ar=()=>{const[e]=Tt(),s=Se(),a=e.get("token"),[n,r]=u.useState("loading"),[o,i]=u.useState(""),[c,l]=u.useState(!1),[d,h]=u.useState("");u.useEffect(()=>{a?m(a):r("input")},[a]);const m=async g=>{try{(await fetch(`/verify-email?token=${encodeURIComponent(g)}`,{credentials:"include"})).ok?(r("success"),setTimeout(()=>{s("/sign-in",{state:{message:"Email verified! Please sign in."}})},3e3)):r("error")}catch(p){console.error("Verification error:",p),r("error")}},x=async()=>{if(!o){h("Please enter your email address");return}h(""),l(!0);try{const g=await fetch("/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:o})});if(!g.ok){const p=await g.json();throw new Error(p.detail||"Failed to resend verification email")}s("/verify-email-sent",{state:{email:o}})}catch(g){h(g instanceof Error?g.message:"Failed to resend email")}finally{l(!1)}};return n==="loading"?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsx(k,{className:"glass-card w-full max-w-md",children:t.jsxs(E,{className:"p-8 text-center",children:[t.jsx(U,{className:"h-12 w-12 animate-spin mx-auto text-primary mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"Verifying your email..."})]})})}):n==="success"?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(k,{className:"glass-card w-full max-w-md",children:[t.jsxs(L,{className:"text-center",children:[t.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-green-500/10 flex items-center justify-center mb-4",children:t.jsx(Ne,{className:"h-6 w-6 text-green-500"})}),t.jsx($,{className:"gradient-text text-2xl sm:text-3xl",children:"Email Verified!"})]}),t.jsxs(E,{className:"text-center space-y-4",children:[t.jsx("p",{className:"text-muted-foreground",children:"Your email has been successfully verified. You can now sign in to your account."}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecting to login..."}),t.jsx(te,{to:"/sign-in",children:t.jsx(C,{className:"glass-button",children:"Go to Login"})})]})]})}):n==="error"||n==="input"?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs(k,{className:"glass-card w-full max-w-md",children:[t.jsxs(L,{className:"text-center",children:[t.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-red-500/10 flex items-center justify-center mb-4",children:n==="error"?t.jsx(Ye,{className:"h-6 w-6 text-red-500"}):t.jsx(Ze,{className:"h-6 w-6 text-primary"})}),t.jsx($,{className:"gradient-text text-2xl sm:text-3xl",children:n==="error"?"Verification Failed":"Verify Your Email"})]}),t.jsxs(E,{className:"space-y-4",children:[t.jsx("p",{className:"text-center text-muted-foreground text-sm",children:n==="error"?"The verification link is invalid or has expired. Please request a new one.":"Enter your email to receive a new verification link."}),d&&t.jsx(k,{className:"glass-card border-red-500/50",children:t.jsx(E,{className:"p-3",children:t.jsx("p",{className:"text-sm text-red-500",children:d})})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium",children:"Email Address"}),t.jsx(F,{id:"email",type:"email",placeholder:"your@email.com",value:o,onChange:g=>i(g.target.value),className:"glass-input",disabled:c})]}),t.jsx(C,{onClick:x,disabled:c||!o,className:"w-full glass-button",children:c?t.jsxs(t.Fragment,{children:[t.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send verification email"}),t.jsx("div",{className:"text-center pt-4",children:t.jsx(te,{to:"/sign-in",className:"text-sm text-primary hover:underline",children:"Back to login"})})]})]})}):null},rr=({children:e})=>{const{user:s,loading:a}=ie();return a?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):s?t.jsx(t.Fragment,{children:e}):t.jsx(me,{to:"/sign-in",replace:!0})},nr=()=>{const e=u.useContext(yt);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e},or=new It;function ir(){const[e,s]=u.useState(!1),{mode:a,health:n,loading:r,backendWaking:o}=xt(),{settings:i,updateTheme:c,updateFontSize:l,resetSettings:d}=nr(),{clearApiKeys:h,hasApiKeys:m}=oe();return t.jsx(ga,{loading:r,error:null,onSettingsClick:()=>s(!0),onSettingsClose:()=>s(!1),settingsOpen:e,children:!r&&t.jsxs(t.Fragment,{children:[a==="lite"&&o&&t.jsx("div",{className:"fixed top-4 right-4 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-4 py-2 rounded-lg shadow-lg text-sm",children:"Backend warming up..."}),t.jsx(ea,{}),t.jsx(ha,{settings:i,onThemeChange:c,onFontSizeChange:l,onClearApiKeys:h,hasApiKeys:m(),onReset:d,isOpen:e,onClose:()=>s(!1),health:n,mode:a})]})})}function lr(){return t.jsx(At,{client:or,children:t.jsx(Xs,{children:t.jsx(cs,{children:t.jsx(Cs,{children:t.jsx(ya,{children:t.jsx(Ot,{children:t.jsxs(Mt,{children:[t.jsx(Y,{path:"/sign-in",element:t.jsx(va,{})}),t.jsx(Y,{path:"/sign-up",element:t.jsx(tr,{})}),t.jsx(Y,{path:"/verify-email-sent",element:t.jsx(sr,{})}),t.jsx(Y,{path:"/verify-email",element:t.jsx(ar,{})}),t.jsx(Y,{path:"/chat",element:t.jsx(rr,{children:t.jsx(ir,{})})}),t.jsx(Y,{path:"/",element:t.jsx(me,{to:"/chat",replace:!0})})]})})})})})})})}const cr=ve.createRoot(document.getElementById("root"));cr.render(t.jsx(_t.StrictMode,{children:t.jsx(lr,{})}));
